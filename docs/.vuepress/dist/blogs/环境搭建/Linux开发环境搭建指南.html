<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>linux编程环境搭建 | 摸鱼小屋</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="花开亦花散">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.387f9a2a.css" as="style"><link rel="preload" href="/assets/js/app.92382283.js" as="script"><link rel="preload" href="/assets/js/3.45d84e5d.js" as="script"><link rel="preload" href="/assets/js/1.9cec7de7.js" as="script"><link rel="preload" href="/assets/js/30.4b00f98b.js" as="script"><link rel="prefetch" href="/assets/js/10.fa7a5c7e.js"><link rel="prefetch" href="/assets/js/11.072d9ab8.js"><link rel="prefetch" href="/assets/js/12.8c886532.js"><link rel="prefetch" href="/assets/js/13.e1da9c8a.js"><link rel="prefetch" href="/assets/js/14.b82d1290.js"><link rel="prefetch" href="/assets/js/15.710c4d9c.js"><link rel="prefetch" href="/assets/js/16.603dbdec.js"><link rel="prefetch" href="/assets/js/17.8052715d.js"><link rel="prefetch" href="/assets/js/18.eb96d1d0.js"><link rel="prefetch" href="/assets/js/19.b2229ae6.js"><link rel="prefetch" href="/assets/js/20.df3fab35.js"><link rel="prefetch" href="/assets/js/21.4d3328eb.js"><link rel="prefetch" href="/assets/js/22.d763e124.js"><link rel="prefetch" href="/assets/js/23.e17deb56.js"><link rel="prefetch" href="/assets/js/24.e78e7249.js"><link rel="prefetch" href="/assets/js/25.9ab3a657.js"><link rel="prefetch" href="/assets/js/26.6b1a2e00.js"><link rel="prefetch" href="/assets/js/27.0395abcc.js"><link rel="prefetch" href="/assets/js/28.730bbccf.js"><link rel="prefetch" href="/assets/js/29.f8658525.js"><link rel="prefetch" href="/assets/js/31.f70167dd.js"><link rel="prefetch" href="/assets/js/32.a78d5390.js"><link rel="prefetch" href="/assets/js/33.95ccd0ae.js"><link rel="prefetch" href="/assets/js/34.f56f4f85.js"><link rel="prefetch" href="/assets/js/35.9e85cde8.js"><link rel="prefetch" href="/assets/js/36.e8e0bb20.js"><link rel="prefetch" href="/assets/js/37.4c4024b1.js"><link rel="prefetch" href="/assets/js/38.87ba3148.js"><link rel="prefetch" href="/assets/js/39.918ffbad.js"><link rel="prefetch" href="/assets/js/4.03b52a95.js"><link rel="prefetch" href="/assets/js/40.9bff58c2.js"><link rel="prefetch" href="/assets/js/41.285e0ad7.js"><link rel="prefetch" href="/assets/js/42.f4df1db7.js"><link rel="prefetch" href="/assets/js/43.4eb49a2e.js"><link rel="prefetch" href="/assets/js/44.3c0f436c.js"><link rel="prefetch" href="/assets/js/45.20fa622f.js"><link rel="prefetch" href="/assets/js/5.aac20725.js"><link rel="prefetch" href="/assets/js/6.67b49f06.js"><link rel="prefetch" href="/assets/js/7.9c2da0a3.js"><link rel="prefetch" href="/assets/js/8.a0f3c5de.js"><link rel="prefetch" href="/assets/js/9.c6155086.js">
    <link rel="stylesheet" href="/assets/css/0.styles.387f9a2a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>摸鱼小屋</h3> <p class="description" data-v-59e6cb88>花开亦花散</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>易曦翰</span>
          
        <span data-v-59e6cb88>2022 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/yixihan.png" alt="摸鱼小屋" class="logo"> <span class="site-name">摸鱼小屋</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Go/" class="nav-link"><i class="undefined"></i>
  Go
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/MySQL/" class="nav-link"><i class="undefined"></i>
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/categories/Nginx/" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/RabbitMQ/" class="nav-link"><i class="undefined"></i>
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/categories/编程环境搭建/" class="nav-link"><i class="undefined"></i>
  编程环境搭建
</a></li><li class="dropdown-item"><!----> <a href="/categories/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont icon-gongju"></i>
      工具箱
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xpdf.net/?s" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  PDF转Word
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  在线工具箱
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://openyyy.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  音乐格式转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.shopify.com/tools/logo-maker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  logo 生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://sms-activate.ru/cn/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  虚拟短信接收
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fanyi.phpstudyhelper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  代码变量名称翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/yixihan.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    易曦翰
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>35</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>39</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Go/" class="nav-link"><i class="undefined"></i>
  Go
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/MySQL/" class="nav-link"><i class="undefined"></i>
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/categories/Nginx/" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/RabbitMQ/" class="nav-link"><i class="undefined"></i>
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/categories/编程环境搭建/" class="nav-link"><i class="undefined"></i>
  编程环境搭建
</a></li><li class="dropdown-item"><!----> <a href="/categories/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont icon-gongju"></i>
      工具箱
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xpdf.net/?s" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  PDF转Word
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  在线工具箱
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://openyyy.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  音乐格式转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.shopify.com/tools/logo-maker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  logo 生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://sms-activate.ru/cn/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  虚拟短信接收
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fanyi.phpstudyhelper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  代码变量名称翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/blogs/环境搭建/Linux开发环境搭建指南.html" class="active sidebar-link">linux编程环境搭建</a></li><li><a href="/blogs/环境搭建/windows开发环境搭建指南.html" class="sidebar-link">windows编程环境搭建</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>linux编程环境搭建</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>易曦翰</span>
          
        <span data-v-59e6cb88>2022 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">linux编程环境搭建</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>易曦翰</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/1/2</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Java</span><span class="tag-item" data-v-8a445198>Go</span><span class="tag-item" data-v-8a445198>NodeJS</span><span class="tag-item" data-v-8a445198>C</span><span class="tag-item" data-v-8a445198>C++</span><span class="tag-item" data-v-8a445198>Python</span><span class="tag-item" data-v-8a445198>Docker</span><span class="tag-item" data-v-8a445198>Redis</span><span class="tag-item" data-v-8a445198>Nginx</span><span class="tag-item" data-v-8a445198>Git</span><span class="tag-item" data-v-8a445198>RabbitMQ</span><span class="tag-item" data-v-8a445198>Nacos</span><span class="tag-item" data-v-8a445198>Jenkins</span><span class="tag-item" data-v-8a445198>环境搭建</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="linux-开发环境搭建指南"><a href="#linux-开发环境搭建指南" class="header-anchor">#</a> Linux 开发环境搭建指南</h1> <blockquote><p>前言</p></blockquote> <p>本指南所用环境为腾讯云服务器, 操作系统为 <code>OpenCloudOS</code></p> <p><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer">腾讯云官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.debian.org/" target="_blank" rel="noopener noreferrer">Debian官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.opencloudos.org/" target="_blank" rel="noopener noreferrer">OpenCloudOS官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="基础环境设置"><a href="#基础环境设置" class="header-anchor">#</a> 基础环境设置</h2> <h3 id="关闭默认防火墙"><a href="#关闭默认防火墙" class="header-anchor">#</a> 关闭默认防火墙</h3> <p>Linux 防火墙有多种, 自带的可能是 <code>ufw</code> / <code>iptables</code> / <code>Firewall</code></p> <p>若使用的是服务器, 且平台提供防火墙安全组, 可关闭服务器的防火墙, 若没有, 建议保持开启</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># ufw</span>
ufw disable

<span class="token comment"># Firewall</span>
systemctl disable firewalld

<span class="token comment"># 关闭防火墙</span>
<span class="token function">service</span> iptables stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="拓展"><a href="#拓展" class="header-anchor">#</a> 拓展</h4> <blockquote><p>Firewall</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看端口列表</span>
firewall-cmd <span class="token parameter variable">--permanent</span> --list-port
<span class="token comment"># 开启端口 永久</span>
firewall-cmd <span class="token parameter variable">--permanent</span> <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp
<span class="token comment"># 开启端口 临时</span>
firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp
<span class="token comment"># 关闭端口 永久</span>
firewall-cmd <span class="token parameter variable">--permanent</span> <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --remove-port<span class="token operator">=</span><span class="token number">80</span>/tcp 
<span class="token comment"># 开启防火墙</span>
systemctl start firewalld.service
<span class="token comment"># 重启防火墙</span>
systemctl restart firewalld.service

<span class="token function">service</span> firewalld restart
firewall-cmd <span class="token parameter variable">--reload</span>
<span class="token comment"># 关闭防火墙</span>
systemctl stop firewalld.service
<span class="token comment"># 查看状态</span>
systemctl status firewalld.service
firewall-cmd <span class="token parameter variable">--state</span>
<span class="token comment"># 开机禁用防火墙</span>
systemctl disable firewalld
<span class="token comment"># 开机启用防火墙</span>
systemctl <span class="token builtin class-name">enable</span> firewalld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>ufw</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 开启端口</span>
ufw allow <span class="token number">22</span>/tcp
ufw allow <span class="token number">22</span>/udp
<span class="token comment"># 同时开启tcp与udp端口</span>
ufw allow <span class="token number">22</span>
<span class="token comment"># 删除端口</span>
ufw delete allow <span class="token number">8888</span>
<span class="token comment"># 开启防火墙</span>
ufw <span class="token builtin class-name">enable</span>
<span class="token comment"># 关闭防火墙</span>
ufw disable
<span class="token comment"># 查看状态(也可查看开放的端口列表)</span>
ufw status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>iptables</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 增加一条规则到最后</span>
iptables <span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-i</span> eth0 <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">80</span> <span class="token parameter variable">-m</span> state <span class="token parameter variable">--state</span> NEW,ESTABLISHED <span class="token parameter variable">-j</span> ACCEPT
<span class="token comment"># 添加一条规则到指定位置</span>
iptables <span class="token parameter variable">-I</span> INPUT <span class="token number">2</span> <span class="token parameter variable">-i</span> eth0 <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">80</span> <span class="token parameter variable">-m</span> state <span class="token parameter variable">--state</span> NEW,ESTABLISHED <span class="token parameter variable">-j</span> ACCEPT 
<span class="token comment"># 删除一条规则</span>
iptabels <span class="token parameter variable">-D</span> INPUT <span class="token number">2</span> 
<span class="token comment"># 修改一条规则</span>
iptables <span class="token parameter variable">-R</span> INPUT <span class="token number">3</span> <span class="token parameter variable">-i</span> eth0 <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">80</span> <span class="token parameter variable">-m</span> state <span class="token parameter variable">--state</span> NEW,ESTABLISHED <span class="token parameter variable">-j</span> ACCEPT
<span class="token comment"># 删除 iptables 现有规则</span>
iptables –F 
<span class="token comment"># 查看 iptables 规则</span>
iptables –L<span class="token punctuation">(</span>iptables –L –v -n<span class="token punctuation">)</span>
<span class="token comment"># 开启防火墙</span>
<span class="token function">service</span> iptables start
<span class="token comment"># 关闭防火墙</span>
<span class="token function">service</span> iptables stop
<span class="token comment"># 重启防火墙</span>
<span class="token function">service</span> iptables restart
<span class="token comment"># 查看状态(也可查看开放的端口列表)</span>
<span class="token function">service</span> iptables status
<span class="token comment"># 保存 iptables 配置</span>
<span class="token function">service</span> iptables save

<span class="token comment"># Iptables 服务配置文件</span>
/etc/sysconfig/iptables-config
<span class="token comment"># Iptables 规则保存文件</span>
/etc/sysconfig/iptables
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="修改-ssh-登录端口号"><a href="#修改-ssh-登录端口号" class="header-anchor">#</a> 修改 ssh 登录端口号</h3> <blockquote><p>修改端口号</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/ssh/sshd_config
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301051040650.png" alt="image-20221229194444280"></p> <blockquote><p>重启ssh服务</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl restart sshd

<span class="token comment"># 不行则试试下面的命令</span>
/etc/init.d/sshd restart
/etc/init.d/ssh restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301051040639.png" alt="image-20221229195218687"></p> <p>没有报错就是生效</p> <h3 id="安装所有开发工具"><a href="#安装所有开发工具" class="header-anchor">#</a> 安装所有开发工具</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># dnf 安装</span>
dnf <span class="token parameter variable">-y</span> group <span class="token function">install</span> <span class="token string">&quot;Development Tools&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="jdk安装"><a href="#jdk安装" class="header-anchor">#</a> JDK安装</h2> <p><a href="https://www.oracle.com/sg/java/" target="_blank" rel="noopener noreferrer">Oracle-JDK-官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>[Oracle-JDK-下载地址](<a href="https://www.oracle.com/java/technologies/downloads/" target="_blank" rel="noopener noreferrer">Java Downloads | Oracle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p><a href="https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html" target="_blank" rel="noopener noreferrer">Oracle-JDK8-下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>tips</p></blockquote> <p><strong>本教程JDK 安装采用 rpm 方式, 无需配置环境变量</strong></p> <h3 id="卸载默认-jdk"><a href="#卸载默认-jdk" class="header-anchor">#</a> 卸载默认 JDK</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 检测有无默认 JDK</span>
<span class="token function">java</span> <span class="token parameter variable">-version</span>

<span class="token comment"># 有则卸载</span>
<span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> jdk
<span class="token comment"># xxx =&gt; 检测出来的jdk名称</span>
<span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="安装-jdk"><a href="#安装-jdk" class="header-anchor">#</a> 安装 JDK</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> jdk-8u291-linux-x64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="配置环境变量"><a href="#配置环境变量" class="header-anchor">#</a> 配置环境变量</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装完成后配置环境变量 文件：/etc/profile</span>
<span class="token function">vim</span> /etc/profile
<span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>jdk安装位置
<span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>%JAVA_HOME%/lib:%JAVA_HOME%/jre/lib
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$JAVA_HOME</span>/jre/bin
<span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span> CLASSPATH JAVA_HOME

<span class="token comment"># 保存退出</span>
<span class="token comment"># 让新增的环境变量生效！</span>
<span class="token builtin class-name">source</span> /etc/profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>安装 jdk</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040628.png" alt="image-20230101211124947"></p> <blockquote><p>检测 jdk</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040638.png" alt="image-20230101211143753"></p> <h3 id="docker-jdk-构建"><a href="#docker-jdk-构建" class="header-anchor">#</a> Docker JDK 构建</h3> <h4 id="dockerfile"><a href="#dockerfile" class="header-anchor">#</a> Dockerfile</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 基础镜像为 centos</span>
FROM centos
<span class="token comment"># 维护者 </span>
MAINTAINER yixihan
<span class="token comment"># 将jdk压缩包添加到容器的 /root 目录，解压后目录名称为jdk1.8.0_211</span>
ADD jdk-8u291-linux-x64.tar.gz /root
<span class="token comment"># 配置JAVA_HOME环境变量</span>
ENV JAVA_HOME /root/jdk1.8.0_291/
<span class="token comment"># 将JAVA_HOME/bin 添加至PATH环境变量</span>
ENV <span class="token environment constant">PATH</span> <span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token comment"># 启动容器执行的命令，仅用于验证安装配置是否正确，生产环境使用需注释后再build</span>
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-version&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="maven-安装"><a href="#maven-安装" class="header-anchor">#</a> Maven 安装</h2> <h3 id="解压"><a href="#解压" class="header-anchor">#</a> 解压</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> apache-maven-3.8.7-bin.tar.gz
<span class="token function">mv</span> apache-maven-3.8.7 /opt/
<span class="token builtin class-name">cd</span> /opt/apache-maven-3.8.7/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="配置配置文件"><a href="#配置配置文件" class="header-anchor">#</a> 配置配置文件</h3> <p>修改配置文件 <code>settings.xml</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> conf/settings.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>修改镜像</p></blockquote> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- 阿里云maven镜像 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>阿里云公共仓库<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>添加仓库</p></blockquote> <p>创建文件 <code>maven-repo</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>/opt/apache-maven-3.8.7/maven-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="配置环境变量-2"><a href="#配置环境变量-2" class="header-anchor">#</a> 配置环境变量</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/profile

<span class="token comment"># Maven 环境配置</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">${<span class="token environment constant">PATH</span>}</span>:/opt/apache-maven-3.8.7/bin

<span class="token comment"># 保存</span>
<span class="token builtin class-name">source</span> /etc/profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="测试是否安装成功"><a href="#测试是否安装成功" class="header-anchor">#</a> 测试是否安装成功</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mvn <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301061511836.png" alt="image-20230106151144731"></p> <h2 id="gcc-g-安装"><a href="#gcc-g-安装" class="header-anchor">#</a> GCC &amp; G++ 安装</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># yum 安装</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc-c++
<span class="token comment"># dnf 安装</span>
dnf <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc-c++ gcc
<span class="token comment"># apt 安装</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="验证是否安装成功"><a href="#验证是否安装成功" class="header-anchor">#</a> 验证是否安装成功</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 检查版本</span>
gcc <span class="token parameter variable">-v</span>
g++ <span class="token parameter variable">-v</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>验证是否安装成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040637.png" alt="image-20230101215019551"></p> <h2 id="python-3-x-安装"><a href="#python-3-x-安装" class="header-anchor">#</a> Python 3.x 安装</h2> <p><a href="https://www.python.org/" target="_blank" rel="noopener noreferrer">Python 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">Python 下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.python.org/doc/" target="_blank" rel="noopener noreferrer">Python 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>tips</p></blockquote> <p><strong>本教程采用源码编译安装, 需下载Python-3.x.x.tgz</strong></p> <h3 id="解压-2"><a href="#解压-2" class="header-anchor">#</a> 解压</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> Python-3.10.0.tgz
<span class="token function">mv</span> Python-3.10.0 /opt/Python-3.10.0
<span class="token builtin class-name">cd</span> /opt/Python-3.10.0/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="安装模块"><a href="#安装模块" class="header-anchor">#</a> 安装模块</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> bzip2-devel 
dnf instal bzip2-devel 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="编译安装"><a href="#编译安装" class="header-anchor">#</a> 编译安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 默认方式</span>
./configure
<span class="token comment"># 如果您想要一个所有稳定优化都处于活动状态的发布版本（PGO等）</span>
./configure --enable-optimizations

<span class="token comment"># 编译&amp;安装</span>
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="检测是否安装成功"><a href="#检测是否安装成功" class="header-anchor">#</a> 检测是否安装成功</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 检测安装是否成功</span>
python3 <span class="token parameter variable">-V</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>检测安装是否成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040635.png" alt="image-20230101223958629"></p> <h3 id="软件包管理器安装-python"><a href="#软件包管理器安装-python" class="header-anchor">#</a> 软件包管理器安装 Python</h3> <p><strong>通过包管理器安装的py版本一般不太高,需要高版本的建议自己编译安装</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># dnf</span>
dnf <span class="token function">install</span> python3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="golang-安装"><a href="#golang-安装" class="header-anchor">#</a> GoLang 安装</h2> <p><a href="https://go.dev/" target="_blank" rel="noopener noreferrer">Go-官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">Go-下载地址-官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://golang.google.cn/dl/" target="_blank" rel="noopener noreferrer">Go-下载地址-Google镜像<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://go.dev/doc/effective_go" target="_blank" rel="noopener noreferrer">Go-文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>tips</p></blockquote> <p><strong>下载 go[版本号].linux-amd64.tar.gz</strong></p> <h3 id="解压-3"><a href="#解压-3" class="header-anchor">#</a> 解压</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> go1.18.2.linux-amd64.tar.gz
<span class="token function">mv</span> go /opt/go
<span class="token builtin class-name">cd</span> /opt/go
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="编辑环境变量"><a href="#编辑环境变量" class="header-anchor">#</a> 编辑环境变量</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/profile

<span class="token comment"># go 环境配置</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/opt/go/bin

<span class="token comment"># 保存</span>
<span class="token builtin class-name">source</span> /etc/profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="检测是否安装成功-2"><a href="#检测是否安装成功-2" class="header-anchor">#</a> 检测是否安装成功</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>go version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>检测安装是否成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040979.png" alt="image-20230101224521675"></p> <h2 id="nodejs-安装"><a href="#nodejs-安装" class="header-anchor">#</a> NodeJS 安装</h2> <p><a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">NodeJS-官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener noreferrer">NodeJS-下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://nodejs.org/zh-cn/docs/" target="_blank" rel="noopener noreferrer">NodeJS-文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>tips</p></blockquote> <p>本教程采用源码编译安装</p> <p>其余安装方法见此处 <a href="https://www.runoob.com/nodejs/nodejs-install-setup.html" target="_blank" rel="noopener noreferrer">菜鸟教程-Node.js 安装配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="解压-4"><a href="#解压-4" class="header-anchor">#</a> 解压</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> node-v16.19.0.tar.gz
<span class="token function">mv</span> node-v16.19.0 /opt/node-v16.19.0
<span class="token builtin class-name">cd</span> /opt/node-v16.19.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="编译安装-2"><a href="#编译安装-2" class="header-anchor">#</a> 编译安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/node/16.19.0
<span class="token function">make</span> <span class="token operator">&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>ModuleNotFoundError: No module named '_bz2'</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> bzip2-devel 
dnf instal bzip2-devel 

<span class="token comment"># 重新构建 python</span>
/opt/Python-3.10.0
./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="配置环境变量-3"><a href="#配置环境变量-3" class="header-anchor">#</a> 配置环境变量</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/profile

<span class="token comment"># node 环境变量配置</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NODE_HOME</span><span class="token operator">=</span>/usr/local/node/16.19.0
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$NODE_HOME</span>/bin:<span class="token environment constant">$PATH</span>

<span class="token comment"># 保存</span>
<span class="token builtin class-name">source</span> /etc/profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="检测是否安装成功-3"><a href="#检测是否安装成功-3" class="header-anchor">#</a> 检测是否安装成功</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">node</span> <span class="token parameter variable">-v</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>检测是否安装成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040016.png" alt="image-20230102011049056"></p> <h2 id="git-安装"><a href="#git-安装" class="header-anchor">#</a> Git 安装</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># dnf</span>
dnf <span class="token function">install</span> git-core

<span class="token comment"># yum</span>
yum <span class="token function">install</span> curl-devel expat-devel gettext-devel <span class="token punctuation">\</span>
  openssl-devel zlib-devel
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> git-core
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="检测是否安装成功-4"><a href="#检测是否安装成功-4" class="header-anchor">#</a> 检测是否安装成功</h3> <blockquote><p>检测是否安装成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040995.png" alt="image-20230102002249814"></p> <h3 id="配置用户名密码"><a href="#配置用户名密码" class="header-anchor">#</a> 配置用户名密码</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name yixihan
<span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email yixihan20010617@gmail.com
<span class="token function">git</span> config <span class="token parameter variable">--global</span> <span class="token parameter variable">--list</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301070936801.png" alt="image-20230107093611696"></p> <h3 id="配置-ssh"><a href="#配置-ssh" class="header-anchor">#</a> 配置 ssh</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ssh-keygen <span class="token parameter variable">-t</span> rsa
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301070936469.png" alt="image-20230107093619393"></p> <h3 id="添加-ssh"><a href="#添加-ssh" class="header-anchor">#</a> 添加 ssh</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> ~/.ssh/id_rsa.pub
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="docker-安装"><a href="#docker-安装" class="header-anchor">#</a> Docker 安装</h2> <blockquote><p>tips</p></blockquote> <p><strong>本教程使用 CentOS7 及以上版本</strong></p> <blockquote><p>相关网址</p></blockquote> <p><a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">Docker 官网安装手册<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker 官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="检测操作系统版本"><a href="#检测操作系统版本" class="header-anchor">#</a> 检测操作系统版本</h3> <p><strong>CentOS7 / CentOS8 / 基于 CentOS 的其他 Linux 发行版理论上都可以使用本教程</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> /etc/redhat-release
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>检测</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040009.png" alt="image-20230101212420151"></p> <h3 id="安装-gcc"><a href="#安装-gcc" class="header-anchor">#</a> 安装 GCC</h3> <blockquote><p>tips</p></blockquote> <p><strong>需要 yum, 且可以联网</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc-c++
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="卸载旧版本"><a href="#卸载旧版本" class="header-anchor">#</a> 卸载旧版本</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token parameter variable">-y</span> remove <span class="token function">docker</span> docker-common docker-selinux docker-engine
<span class="token comment"># 官网版本</span>
yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
docker-client <span class="token punctuation">\</span>
docker-client-latest <span class="token punctuation">\</span>
docker-common <span class="token punctuation">\</span>
docker-latest <span class="token punctuation">\</span>
docker-latest-logrotate <span class="token punctuation">\</span>
docker-logrotate <span class="token punctuation">\</span>
docker-engine 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="安装需要的软件包"><a href="#安装需要的软件包" class="header-anchor">#</a> 安装需要的软件包</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 正确推荐使用国内的</span>
yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
dnf config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="更新yum软件包索引"><a href="#更新yum软件包索引" class="header-anchor">#</a> 更新yum软件包索引</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># CentOS 7</span>
yum makecache fast
<span class="token comment"># CentOS 8</span>
dnf makecache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="安装docker-ce"><a href="#安装docker-ce" class="header-anchor">#</a> 安装Docker CE</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io

dnf <span class="token function">install</span> docker-ce docker-ce-cli containerd.io <span class="token parameter variable">--allowerasing</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="启动docker"><a href="#启动docker" class="header-anchor">#</a> 启动docker</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl start <span class="token function">docker</span>

<span class="token comment"># 设置 docker 开机自启</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 获取 docker 版本</span>
<span class="token function">docker</span> version

<span class="token comment"># 运行 docker 容器</span>
<span class="token function">docker</span> run hello-world

<span class="token comment"># 查看 docker 镜像列表</span>
<span class="token function">docker</span> images
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>获取 docker 版本</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040040.png" alt="image-20230101213142129"></p> <blockquote><p>运行 docker 容器</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040042.png" alt="image-20230101213217221"></p> <blockquote><p>查看 docker 镜像列表</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040303.png" alt="image-20230101213231882"></p> <h3 id="配置镜像加速"><a href="#配置镜像加速" class="header-anchor">#</a> 配置镜像加速</h3> <p>镜像加速有许多平台可以选择, 随便选一个即可</p> <ul><li>科大镜像：<strong>https://docker.mirrors.ustc.edu.cn/</strong></li> <li>网易：<strong>https://hub-mirror.c.163.com/</strong></li> <li>阿里云：<strong>https://&lt;你的ID&gt;.mirror.aliyuncs.com</strong></li> <li>七牛云加速器：<strong>https://reg-mirror.qiniu.com</strong></li></ul> <p><a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" target="_blank" rel="noopener noreferrer">阿里云镜像获取地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，登录后，左侧菜单选中镜像加速器就可以看到你的专属地址了
<img src="https://typora-oss.yixihan.chat//img/202301051040247.png" alt="image-20230101213833745"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;https://&lt;你的ID&gt;.mirror.aliyuncs.com&quot;]
}
EOF</span>
<span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="卸载"><a href="#卸载" class="header-anchor">#</a> 卸载</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 关闭 docker</span>
systemctl stop <span class="token function">docker</span>

<span class="token comment"># yum 卸载 docker</span>
yum <span class="token parameter variable">-y</span> remove docker-ce

<span class="token comment"># 删除 docker 残留文件</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="redis-安装"><a href="#redis-安装" class="header-anchor">#</a> Redis 安装</h2> <h3 id="解压缩"><a href="#解压缩" class="header-anchor">#</a> 解压缩</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> redis-6.2.5.tar.gz
<span class="token function">mv</span> redis-6.2.5 /opt/redis-6.2.5
<span class="token builtin class-name">cd</span> /opt/redis-6.2.5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="安装-gcc-2"><a href="#安装-gcc-2" class="header-anchor">#</a> 安装 gcc</h3> <blockquote><p>tips</p></blockquote> <p>Redis 6.x 需要 gcc 版本大于4.9</p> <h4 id="gcc-版本检查"><a href="#gcc-版本检查" class="header-anchor">#</a> GCC 版本检查</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>gcc <span class="token parameter variable">-v</span>
g++ <span class="token parameter variable">-v</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>版本检查</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040347.png" alt="image-20230101215019551"></p> <h4 id="centos-7-安装教程"><a href="#centos-7-安装教程" class="header-anchor">#</a> CentOS 7 安装教程</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#安装gcc</span>
yum <span class="token function">install</span> gcc-c++

<span class="token comment">#redis6.x版本需要升级gcc</span>
<span class="token comment">#升级gcc</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> centos-release-scl

yum <span class="token parameter variable">-y</span> <span class="token function">install</span> devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils scl <span class="token builtin class-name">enable</span> devtoolset-9 <span class="token function">bash</span>

<span class="token comment">#修改环境变量</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;source /opt/rh/devtoolset-9/enable&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/profile

<span class="token comment">#查看gcc版本</span>
gcc <span class="token parameter variable">-v</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="centos-8-安装教程"><a href="#centos-8-安装教程" class="header-anchor">#</a> CentOS 8 安装教程</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装所有开发工具</span>
dnf <span class="token parameter variable">-y</span> group <span class="token function">install</span> <span class="token string">&quot;Development Tools&quot;</span>

<span class="token comment"># 仅安装 gcc</span>
dnf <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc-c++ gcc <span class="token function">make</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="安装redis"><a href="#安装redis" class="header-anchor">#</a> 安装redis</h3> <blockquote><p>tips</p></blockquote> <p>redis默认安装路径<code>/usr/local/bin</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="拷贝redis-config文件"><a href="#拷贝redis-config文件" class="header-anchor">#</a> 拷贝redis.config文件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /usr/local/bin/
<span class="token function">mkdir</span> yconfig
<span class="token function">cp</span> /opt/redis-6.2.5/redis.conf yconfig
<span class="token builtin class-name">cd</span> yconfig/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="修改redis配置文件"><a href="#修改redis配置文件" class="header-anchor">#</a> 修改redis配置文件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> redis.conf

<span class="token comment"># daemonize no 改为 yes</span>
daemonize <span class="token function">yes</span>

<span class="token comment"># 修改 Redis 启动端口</span>
port port
pidfile /var/run/redis_port.pid

<span class="token comment"># 增加登录密码</span>
requirepass your_password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="启动redis"><a href="#启动redis" class="header-anchor">#</a> 启动redis</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>redis-server yconfig/redis.conf
redis-cli <span class="token parameter variable">-p</span> port
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="设置防火墙"><a href="#设置防火墙" class="header-anchor">#</a> 设置防火墙</h3> <p>开放Linux防火墙对应端口或服务器安全组对应端口</p> <h3 id="reids-详细配置"><a href="#reids-详细配置" class="header-anchor">#</a> reids 详细配置</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#是否在后台执行，yes：后台运行；no：不是后台运行</span>
daemonize <span class="token function">yes</span>
 
<span class="token comment">#是否开启保护模式，默认开启。要是配置里没有指定bind和密码。开启该参数后，redis只会本地进行访问，拒绝外部访问。</span>
protected-mode <span class="token function">yes</span>
  
<span class="token comment">#redis的进程文件</span>
pidfile /var/run/redis/redis-server.pid

<span class="token comment">#redis监听的端口号。</span>
port <span class="token number">6379</span>
  
<span class="token comment">#此参数确定了TCP连接中已完成队列(完成三次握手之后)的长度， 当然此值必须不大于Linux系统定义的/proc/sys/net/core/somaxconn值，默认是511，而Linux的默认参数值是128。当系统并发量大并且客户端速度缓慢的时候，可以将这二个参数一起参考设定。该内核参数默认值一般是128，对于负载很大的服务程序来说大大的不够。一般会将它修改为2048或者更大。在/etc/sysctl.conf中添加:net.core.somaxconn = 2048，然后在终端中执行sysctl -p。</span>
tcp-backlog <span class="token number">511</span>
 
<span class="token comment">#指定 redis 只接收来自于该 IP 地址的请求，如果不进行设置，那么将处理所有请求</span>
<span class="token comment">#bind 127.0.0.1</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0
 
<span class="token comment">#配置unix socket来让redis支持监听本地连接。</span>
<span class="token comment"># unixsocket /var/run/redis/redis.sock</span>
 
<span class="token comment">#配置unix socket使用文件的权限</span>
<span class="token comment"># unixsocketperm 700</span>
 
<span class="token comment"># 此参数为设置客户端空闲超过timeout，服务端会断开连接，为0则服务端不会主动断开连接，不能小于0。</span>
<span class="token function">timeout</span> <span class="token number">0</span>
 
<span class="token comment">#tcp keepalive参数。如果设置不为0，就使用配置tcp的SO_KEEPALIVE值，使用keepalive有两个好处:检测挂掉的对端。降低中间设备出问题而导致网络看似连接却已经与对端端口的问题。在Linux内核中，设置了keepalive，redis会定时给对端发送ack。检测到对端关闭需要两倍的设置值。</span>
tcp-keepalive <span class="token number">0</span>

<span class="token comment">#指定了服务端日志的级别。级别包括：debug（很多信息，方便开发、测试），verbose（许多有用的信息，但是没有debug级别信息多），notice（适当的日志级别，适合生产环境），warn（只有非常重要的信息）</span>
loglevel notice

<span class="token comment">#指定了记录日志的文件。空字符串的话，日志会打印到标准输出设备。后台运行的redis标准输出是/dev/null。</span>
logfile /var/log/redis/redis-server.log
 
<span class="token comment">#是否打开记录syslog功能</span>
<span class="token comment"># syslog-enabled no</span>
 
<span class="token comment">#syslog的标识符。</span>
<span class="token comment"># syslog-ident redis</span>
 
<span class="token comment">#日志的来源、设备</span>
<span class="token comment"># syslog-facility local0</span>

<span class="token comment">#数据库的数量，默认使用的数据库是DB 0。可以通过SELECT命令选择一个db</span>
databases <span class="token number">16</span>
 
<span class="token comment"># redis是基于内存的数据库，可以通过设置该值定期写入磁盘。</span>
<span class="token comment"># 注释掉“save”这一行配置项就可以让保存数据库功能失效</span>
<span class="token comment"># 900秒（15分钟）内至少1个key值改变（则进行数据库保存--持久化） </span>
<span class="token comment"># 300秒（5分钟）内至少10个key值改变（则进行数据库保存--持久化） </span>
<span class="token comment"># 60秒（1分钟）内至少10000个key值改变（则进行数据库保存--持久化）</span>
save <span class="token number">900</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">10</span>
save <span class="token number">60</span> <span class="token number">10000</span>

<span class="token comment">#当RDB持久化出现错误后，是否依然进行继续进行工作，yes：不能进行工作，no：可以继续进行工作，可以通过info中的rdb_last_bgsave_status了解RDB持久化是否有错误</span>
stop-writes-on-bgsave-error <span class="token function">yes</span>
 
<span class="token comment">#使用压缩rdb文件，rdb文件压缩使用LZF压缩算法，yes：压缩，但是需要一些cpu的消耗。no：不压缩，需要更多的磁盘空间</span>
rdbcompression <span class="token function">yes</span>
 
<span class="token comment">#是否校验rdb文件。从rdb格式的第五个版本开始，在rdb文件的末尾会带上CRC64的校验和。这跟有利于文件的容错性，但是在保存rdb文件的时候，会有大概10%的性能损耗，所以如果你追求高性能，可以关闭该配置。</span>
rdbchecksum <span class="token function">yes</span>
 
<span class="token comment">#rdb文件的名称</span>
dbfilename dump.rdb
<span class="token comment">#数据目录，数据库的写入会在这个目录。rdb、aof文件也会写在这个目录</span>
<span class="token function">dir</span> /var/lib/redis
 
 
<span class="token comment">############### 主从复制 ###############</span>

<span class="token comment">#复制选项，slave复制对应的master。</span>
<span class="token comment"># slaveof &lt;masterip&gt; &lt;masterport&gt;</span>
 
<span class="token comment">#如果master设置了requirepass，那么slave要连上master，需要有master的密码才行。masterauth就是用来配置master的密码，这样可以在连上master后进行认证。</span>
<span class="token comment"># masterauth &lt;master-password&gt;</span>
 
<span class="token comment">#当从库同主机失去连接或者复制正在进行，从机库有两种运行方式：1) 如果slave-serve-stale-data设置为yes(默认设置)，从库会继续响应客户端的请求。2) 如果slave-serve-stale-data设置为no，除去INFO和SLAVOF命令之外的任何请求都会返回一个错误”SYNC with master in progress”。</span>
slave-serve-stale-data <span class="token function">yes</span>
 
<span class="token comment">#作为从服务器，默认情况下是只读的（yes），可以修改成NO，用于写（不建议）。</span>
slave-read-only <span class="token function">yes</span>
 
<span class="token comment">#是否使用socket方式复制数据。目前redis复制提供两种方式，disk和socket。如果新的slave连上来或者重连的slave无法部分同步，就会执行全量同步，master会生成rdb文件。有2种方式：disk方式是master创建一个新的进程把rdb文件保存到磁盘，再把磁盘上的rdb文件传递给slave。socket是master创建一个新的进程，直接把rdb文件以socket的方式发给slave。disk方式的时候，当一个rdb保存的过程中，多个slave都能共享这个rdb文件。socket的方式就的一个个slave顺序复制。在磁盘速度缓慢，网速快的情况下推荐用socket方式。</span>
repl-diskless-sync no
 
<span class="token comment">#diskless复制的延迟时间，防止设置为0。一旦复制开始，节点不会再接收新slave的复制请求直到下一个rdb传输。所以最好等待一段时间，等更多的slave连上来。</span>
repl-diskless-sync-delay <span class="token number">5</span>
 
<span class="token comment">#slave根据指定的时间间隔向服务器发送ping请求。时间间隔可以通过 repl_ping_slave_period 来设置，默认10秒。</span>
<span class="token comment"># repl-ping-slave-period 10</span>
 
<span class="token comment">#复制连接超时时间。master和slave都有超时时间的设置。master检测到slave上次发送的时间超过repl-timeout，即认为slave离线，清除该slave信息。slave检测到上次和master交互的时间超过repl-timeout，则认为master离线。需要注意的是repl-timeout需要设置一个比repl-ping-slave-period更大的值，不然会经常检测到超时。</span>
<span class="token comment"># repl-timeout 60</span>
 
<span class="token comment">#是否禁止复制tcp链接的tcp nodelay参数，可传递yes或者no。默认是no，即使用tcp nodelay。如果master设置了yes来禁止tcp nodelay设置，在把数据复制给slave的时候，会减少包的数量和更小的网络带宽。但是这也可能带来数据的延迟。默认我们推荐更小的延迟，但是在数据量传输很大的场景下，建议选择yes。</span>
repl-disable-tcp-nodelay no
 
<span class="token comment">#复制缓冲区大小，这是一个环形复制缓冲区，用来保存最新复制的命令。这样在slave离线的时候，不需要完全复制master的数据，如果可以执行部分同步，只需要把缓冲区的部分数据复制给slave，就能恢复正常复制状态。缓冲区的大小越大，slave离线的时间可以更长，复制缓冲区只有在有slave连接的时候才分配内存。没有slave的一段时间，内存会被释放出来，默认1m。</span>
<span class="token comment"># repl-backlog-size 5mb</span>
 
<span class="token comment">#master没有slave一段时间会释放复制缓冲区的内存，repl-backlog-ttl用来设置该时间长度。单位为秒。</span>
<span class="token comment"># repl-backlog-ttl 3600</span>
 
<span class="token comment">#当master不可用，Sentinel会根据slave的优先级选举一个master。最低的优先级的slave，当选master。而配置成0，永远不会被选举。</span>
slave-priority <span class="token number">100</span>
<span class="token comment">#redis提供了可以让master停止写入的方式，如果配置了min-slaves-to-write，健康的slave的个数小于N，mater就禁止写入。master最少得有多少个健康的slave存活才能执行写命令。这个配置虽然不能保证N个slave都一定能接收到master的写操作，但是能避免没有足够健康的slave的时候，master不能写入来避免数据丢失。设置为0是关闭该功能。</span>
<span class="token comment"># min-slaves-to-write 3</span>
 
<span class="token comment">#延迟小于min-slaves-max-lag秒的slave才认为是健康的slave。</span>
<span class="token comment"># min-slaves-max-lag 10</span>
 
<span class="token comment"># 设置1或另一个设置为0禁用这个特性。</span>
<span class="token comment"># Setting one or the other to 0 disables the feature.</span>
<span class="token comment"># By default min-slaves-to-write is set to 0 (feature disabled) and</span>
<span class="token comment"># min-slaves-max-lag is set to 10.</span>
 
 
<span class="token comment">############### 安全相关 ###############</span>
 
<span class="token comment">#requirepass配置可以让用户使用AUTH命令来认证密码，才能使用其他命令。这让redis可以使用在不受信任的网络中。为了保持向后的兼容性，可以注释该命令，因为大部分用户也不需要认证。使用requirepass的时候需要注意，因为redis太快了，每秒可以认证15w次密码，简单的密码很容易被攻破，所以最好使用一个更复杂的密码。注意只有密码没有用户名。</span>
<span class="token comment"># requirepass foobared</span>
 
<span class="token comment">#把危险的命令给修改成其他名称。比如CONFIG命令可以重命名为一个很难被猜到的命令，这样用户不能使用，而内部工具还能接着使用。</span>
<span class="token comment"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span>
 
<span class="token comment">#设置成一个空的值，可以禁止一个命令</span>
<span class="token comment"># rename-command CONFIG &quot;&quot;</span>
 
 
<span class="token comment">############### 进程限制相关 ###############</span>
 
<span class="token comment"># 设置能连上redis的最大客户端连接数量。默认是10000个客户端连接。由于redis不区分连接是客户端连接还是内部打开文件或者和slave连接等，所以maxclients最小建议设置到32。如果超过了maxclients，redis会给新的连接发送’max number of clients reached’，并关闭连接。</span>
<span class="token comment"># maxclients 10000</span>
 
<span class="token comment">#redis配置的最大内存容量。当内存满了，需要配合maxmemory-policy策略进行处理。注意slave的输出缓冲区是不计算在maxmemory内的。所以为了防止主机内存使用完，建议设置的maxmemory需要更小一些。</span>
<span class="token comment"># maxmemory &lt;bytes&gt;</span>
 
<span class="token comment">#内存容量超过maxmemory后的处理策略。</span>
<span class="token comment">#volatile-lru：利用LRU算法移除设置过过期时间的key。</span>
<span class="token comment">#volatile-random：随机移除设置过过期时间的key。</span>
<span class="token comment">#volatile-ttl：移除即将过期的key，根据最近过期时间来删除（辅以TTL）</span>
<span class="token comment">#allkeys-lru：利用LRU算法移除任何key。</span>
<span class="token comment">#allkeys-random：随机移除任何key。</span>
<span class="token comment">#noeviction：不移除任何key，只是返回一个写错误。</span>
<span class="token comment">#上面的这些驱逐策略，如果redis没有合适的key驱逐，对于写命令，还是会返回错误。redis将不再接收写请求，只接收get请求。写命令包括：set setnx setex append incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby getset mset msetnx exec sort。</span>
<span class="token comment"># maxmemory-policy noeviction</span>
 
<span class="token comment">#lru检测的样本数。使用lru或者ttl淘汰算法，从需要淘汰的列表中随机选择sample个key，选出闲置时间最长的key移除。</span>
<span class="token comment"># maxmemory-samples 5</span>
 
 
<span class="token comment">############### APPEND ONLY 持久化方式 ###############</span>
 
<span class="token comment">#默认redis使用的是rdb方式持久化，这种方式在许多应用中已经足够用了。但是redis如果中途宕机，会导致可能有几分钟的数据丢失，根据save来策略进行持久化，Append Only File是另一种持久化方式，可以提供更好的持久化特性。Redis会把每次写入的数据在接收后都写入 appendonly.aof 文件，每次启动时Redis都会先把这个文件的数据读入内存里，先忽略RDB文件。</span>
appendonly no
 
<span class="token comment">#aof文件名</span>
appendfilename <span class="token string">&quot;appendonly.aof&quot;</span>
 
<span class="token comment">#aof持久化策略的配置</span>
<span class="token comment">#no表示不执行fsync，由操作系统保证数据同步到磁盘，速度最快。</span>
<span class="token comment">#always表示每次写入都执行fsync，以保证数据同步到磁盘。</span>
<span class="token comment">#everysec表示每秒执行一次fsync，可能会导致丢失这1s数据。</span>
appendfsync everysec
 
<span class="token comment"># 在aof重写或者写入rdb文件的时候，会执行大量IO，此时对于everysec和always的aof模式来说，执行fsync会造成阻塞过长时间，no-appendfsync-on-rewrite字段设置为默认设置为no。如果对延迟要求很高的应用，这个字段可以设置为yes，否则还是设置为no，这样对持久化特性来说这是更安全的选择。设置为yes表示rewrite期间对新写操作不fsync,暂时存在内存中,等rewrite完成后再写入，默认为no，建议yes。Linux的默认fsync策略是30秒。可能丢失30秒数据。</span>
no-appendfsync-on-rewrite no
 
<span class="token comment">#aof自动重写配置。当目前aof文件大小超过上一次重写的aof文件大小的百分之多少进行重写，即当aof文件增长到一定大小的时候Redis能够调用bgrewriteaof对日志文件进行重写。当前AOF文件大小是上次日志重写得到AOF文件大小的二倍（设置为100）时，自动启动新的日志重写过程。</span>
auto-aof-rewrite-percentage <span class="token number">100</span>
<span class="token comment">#设置允许重写的最小aof文件大小，避免了达到约定百分比但尺寸仍然很小的情况还要重写</span>
auto-aof-rewrite-min-size 64mb 

<span class="token comment">#aof文件可能在尾部是不完整的，当redis启动的时候，aof文件的数据被载入内存。重启可能发生在redis所在的主机操作系统宕机后，尤其在ext4文件系统没有加上data=ordered选项（redis宕机或者异常终止不会造成尾部不完整现象。）出现这种现象，可以选择让redis退出，或者导入尽可能多的数据。如果选择的是yes，当截断的aof文件被导入的时候，会自动发布一个log给客户端然后load。如果是no，用户必须手动redis-check-aof修复AOF文件才可以。</span>
aof-load-truncated <span class="token function">yes</span>
 
 
<span class="token comment">############### LUA SCRIPTING ###############</span>
 
<span class="token comment"># 如果达到最大时间限制（毫秒），redis会记个log，然后返回error。当一个脚本超过了最大时限。只有SCRIPT KILL和SHUTDOWN NOSAVE可以用。第一个可以杀没有调write命令的东西。要是已经调用了write，只能用第二个命令杀。</span>
lua-time-limit <span class="token number">5000</span>
 
 
<span class="token comment">############### 集群相关 ###############</span>
 
<span class="token comment">#集群开关，默认是不开启集群模式。</span>
<span class="token comment"># cluster-enabled yes</span>

<span class="token comment">#集群配置文件的名称，每个节点都有一个集群相关的配置文件，持久化保存集群的信息。这个文件并不需要手动配置，这个配置文件有Redis生成并更新，每个Redis集群节点需要一个单独的配置文件，请确保与实例运行的系统中配置文件名称不冲突</span>
<span class="token comment"># cluster-config-file nodes-6379.conf</span>
 
<span class="token comment">#节点互连超时的阀值。集群节点超时毫秒数</span>
<span class="token comment"># cluster-node-timeout 15000</span>
 
<span class="token comment">#在进行故障转移的时候，全部slave都会请求申请为master，但是有些slave可能与master断开连接一段时间了，导致数据过于陈旧，这样的slave不应该被提升为master。该参数就是用来判断slave节点与master断线的时间是否过长。判断方法是：</span>
<span class="token number">203</span> <span class="token comment">#比较slave断开连接的时间和(node-timeout * slave-validity-factor) + repl-ping-slave-period</span>
<span class="token number">204</span> <span class="token comment">#如果节点超时时间为三十秒, 并且slave-validity-factor为10,假设默认的repl-ping-slave-period是10秒，即如果超过310秒slave将不会尝试进行故障转移 </span>
<span class="token comment"># cluster-slave-validity-factor 10</span>
 
<span class="token comment">#master的slave数量大于该值，slave才能迁移到其他孤立master上，如这个参数若被设为2，那么只有当一个主节点拥有2 个可工作的从节点时，它的一个从节点会尝试迁移。</span>
<span class="token comment"># cluster-migration-barrier 1</span>
 
<span class="token comment">#默认情况下，集群全部的slot有节点负责，集群状态才为ok，才能提供服务。设置为no，可以在slot没有全部分配的时候提供服务。不建议打开该配置，这样会造成分区的时候，小分区的master一直在接受写请求，而造成很长时间数据不一致。</span>
 
 
<span class="token comment">############### SLOW LOG 慢查询日志 ###############</span>
 
<span class="token comment">###slog log是用来记录redis运行中执行比较慢的命令耗时。当命令的执行超过了指定时间，就记录在slow log中，slog log保存在内存中，所以没有IO操作。</span>
<span class="token comment">#执行时间比slowlog-log-slower-than大的请求记录到slowlog里面，单位是微秒，所以1000000就是1秒。注意，负数时间会禁用慢查询日志，而0则会强制记录所有命令。</span>
slowlog-log-slower-than <span class="token number">10000</span>
 
<span class="token comment">#慢查询日志长度。当一个新的命令被写进日志的时候，最老的那个记录会被删掉。这个长度没有限制。只要有足够的内存就行。你可以通过 SLOWLOG RESET 来释放内存。</span>
slowlog-max-len <span class="token number">128</span>
 
<span class="token comment">############### 延迟监控 ###############</span>
<span class="token comment">#延迟监控功能是用来监控redis中执行比较缓慢的一些操作，用LATENCY打印redis实例在跑命令时的耗时图表。只记录大于等于下边设置的值的操作。0的话，就是关闭监视。默认延迟监控功能是关闭的，如果你需要打开，也可以通过CONFIG SET命令动态设置。</span>
latency-monitor-threshold <span class="token number">0</span>
 
<span class="token comment">############### EVENT NOTIFICATION 订阅通知 ###############</span>
<span class="token comment">#键空间通知使得客户端可以通过订阅频道或模式，来接收那些以某种方式改动了 Redis 数据集的事件。因为开启键空间通知功能需要消耗一些 CPU ，所以在默认配置下，该功能处于关闭状态。</span>
<span class="token comment">#notify-keyspace-events 的参数可以是以下字符的任意组合，它指定了服务器该发送哪些类型的通知：</span>
<span class="token comment">##K 键空间通知，所有通知以 __keyspace@__ 为前缀</span>
<span class="token comment">##E 键事件通知，所有通知以 __keyevent@__ 为前缀</span>
<span class="token comment">##g DEL 、 EXPIRE 、 RENAME 等类型无关的通用命令的通知</span>
<span class="token comment">##$ 字符串命令的通知</span>
<span class="token comment">##l 列表命令的通知</span>
<span class="token comment">##s 集合命令的通知</span>
<span class="token comment">##h 哈希命令的通知</span>
<span class="token comment">##z 有序集合命令的通知</span>
<span class="token comment">##x 过期事件：每当有过期键被删除时发送</span>
<span class="token comment">##e 驱逐(evict)事件：每当有键因为 maxmemory 政策而被删除时发送</span>
<span class="token comment">##A 参数 g$lshzxe 的别名</span>
<span class="token comment">#输入的参数中至少要有一个 K 或者 E，否则的话，不管其余的参数是什么，都不会有任何 通知被分发。详细使用可以参考http://redis.io/topics/notifications</span>
notify-keyspace-events <span class="token string">&quot;&quot;</span>
 
<span class="token comment">############### ADVANCED CONFIG 高级配置 ###############</span>
<span class="token comment">#数据量小于等于hash-max-ziplist-entries的用ziplist，大于hash-max-ziplist-entries用hash</span>
hash-max-ziplist-entries <span class="token number">512</span>
<span class="token comment">#value大小小于等于hash-max-ziplist-value的用ziplist，大于hash-max-ziplist-value用hash。</span>
hash-max-ziplist-value <span class="token number">64</span>
 
<span class="token comment">#数据量小于等于list-max-ziplist-entries用ziplist，大于list-max-ziplist-entries用list。</span>
list-max-ziplist-entries <span class="token number">512</span>
<span class="token comment">#value大小小于等于list-max-ziplist-value的用ziplist，大于list-max-ziplist-value用list。</span>
list-max-ziplist-value <span class="token number">64</span>
 
<span class="token comment">#数据量小于等于set-max-intset-entries用iniset，大于set-max-intset-entries用set。</span>
set-max-intset-entries <span class="token number">512</span>
 
<span class="token comment">#数据量小于等于zset-max-ziplist-entries用ziplist，大于zset-max-ziplist-entries用zset。</span>
zset-max-ziplist-entries <span class="token number">128</span>
<span class="token comment">#value大小小于等于zset-max-ziplist-value用ziplist，大于zset-max-ziplist-value用zset。</span>
zset-max-ziplist-value <span class="token number">64</span>
 
<span class="token comment">#value大小小于等于hll-sparse-max-bytes使用稀疏数据结构（sparse），大于hll-sparse-max-bytes使用稠密的数据结构（dense）。一个比16000大的value是几乎没用的，建议的value大概为3000。如果对CPU要求不高，对空间要求较高的，建议设置到10000左右。</span>
hll-sparse-max-bytes <span class="token number">3000</span>
 
<span class="token comment">#Redis将在每100毫秒时使用1毫秒的CPU时间来对redis的hash表进行重新hash，可以降低内存的使用。当你的使用场景中，有非常严格的实时性需要，不能够接受Redis时不时的对请求有2毫秒的延迟的话，把这项配置为no。如果没有这么严格的实时性要求，可以设置为yes，以便能够尽可能快的释放内存。</span>
activerehashing <span class="token function">yes</span>
 
<span class="token comment">##对客户端输出缓冲进行限制可以强迫那些不从服务器读取数据的客户端断开连接，用来强制关闭传输缓慢的客户端。</span>
<span class="token comment">#对于normal client，第一个0表示取消hard limit，第二个0和第三个0表示取消soft limit，normal client默认取消限制，因为如果没有寻问，他们是不会接收数据的。</span>
client-output-buffer-limit normal <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
<span class="token comment">#对于slave client和MONITER client，如果client-output-buffer一旦超过256mb，又或者超过64mb持续60秒，那么服务器就会立即断开客户端连接。</span>
client-output-buffer-limit slave 256mb 64mb <span class="token number">60</span>
<span class="token comment">#对于pubsub client，如果client-output-buffer一旦超过32mb，又或者超过8mb持续60秒，那么服务器就会立即断开客户端连接。</span>
client-output-buffer-limit pubsub 32mb 8mb <span class="token number">60</span>
 
<span class="token comment">#redis执行任务的频率为1s除以hz。</span>
hz <span class="token number">10</span>
 
<span class="token comment">#在aof重写的时候，如果打开了aof-rewrite-incremental-fsync开关，系统会每32MB执行一次fsync。这对于把文件写入磁盘是有帮助的，可以避免过大的延迟峰值。</span>
aof-rewrite-incremental-fsync <span class="token function">yes</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br></div></div><h2 id="docker-搭建-redis-集群"><a href="#docker-搭建-redis-集群" class="header-anchor">#</a> Docker 搭建 Redis 集群</h2> <h3 id="创建-redis-网卡"><a href="#创建-redis-网卡" class="header-anchor">#</a> 创建 redis 网卡</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> network create redis <span class="token parameter variable">--subnet</span> <span class="token number">172.38</span>.0.0/16
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>tips</p></blockquote> <p>如果报这个错, 是因为重启过防火墙的原因, 重启 <code>docker</code> 即可</p> <p><img src="https://typora-oss.yixihan.chat//img/202301061451319.png" alt="image-20230106145119231"></p> <blockquote><p>查看创建的网卡</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> network <span class="token function">ls</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301061452490.png" alt="image-20230106145204425"></p> <h3 id="创建redis服务"><a href="#创建redis服务" class="header-anchor">#</a> 创建redis服务</h3> <blockquote><p>tips</p></blockquote> <p><code>requirepass your_password</code> 可选, 为设置密码所用</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">port</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">seq</span> <span class="token number">1</span> <span class="token number">6</span><span class="token variable">)</span></span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/redis/node-<span class="token variable">${port}</span>/conf
<span class="token function">touch</span> /mydata/redis/node-<span class="token variable">${port}</span>/conf/redis.conf
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span>/mydata/redis/node-<span class="token variable">${port}</span>/conf/redis.conf</span>
port 6379
bind 0.0.0.0
cluster-enabled yes
cluster-config-file nodes.conf
cluster-announce-ip 172.38.0.1<span class="token variable">${port}</span>
cluster-announce-port 6379
cluster-announce-bus-port 16379
requirepass your_password
appendonly yes
EOF</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="启动-redis-容器"><a href="#启动-redis-容器" class="header-anchor">#</a> 启动 redis 容器</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">port</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">seq</span> <span class="token number">1</span> <span class="token number">6</span><span class="token variable">)</span></span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">637</span><span class="token variable">${port}</span>:6379 <span class="token parameter variable">-p</span> <span class="token number">1637</span><span class="token variable">${port}</span>:16379 <span class="token parameter variable">--name</span> redis-<span class="token variable">${port}</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/redis/node-<span class="token variable">${port}</span>/data:/data <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/redis/node-<span class="token variable">${port}</span>/conf/redis.conf:/etc/redis/redis.conf <span class="token punctuation">\</span>
<span class="token parameter variable">-d</span> <span class="token parameter variable">--net</span> redis <span class="token parameter variable">--ip</span> <span class="token number">172.38</span>.0.1<span class="token variable">${port}</span> redis:6.2.5 redis-server /etc/redis/redis.conf
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301061454598.png" alt="image-20230106145417508"></p> <h3 id="创建-redis-集群"><a href="#创建-redis-集群" class="header-anchor">#</a> 创建 redis 集群</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 进入 redis-1</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> redis-1 /bin/bash

<span class="token comment"># 创建集群</span>
redis-cli <span class="token parameter variable">--cluster</span> create <span class="token number">172.38</span>.0.11:6379 <span class="token number">172.38</span>.0.12:6379 <span class="token number">172.38</span>.0.13:6379 <span class="token number">172.38</span>.0.14:6379 <span class="token number">172.38</span>.0.15:6379 <span class="token number">172.38</span>.0.16:6379 --cluster-replicas <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301061455309.png" alt="image-20230106145514029"></p> <h3 id="查看集群"><a href="#查看集群" class="header-anchor">#</a> 查看集群</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>redis-cli <span class="token parameter variable">-c</span>
cluster nodes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301061455756.png" alt="image-20230106145540630"></p> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <blockquote><p>重启服务</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">port</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">seq</span> <span class="token number">1</span> <span class="token number">6</span><span class="token variable">)</span></span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
<span class="token function">docker</span> restart redis-<span class="token variable">${port}</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="mysql-安装"><a href="#mysql-安装" class="header-anchor">#</a> MySQL 安装</h2> <h3 id="数据库安装"><a href="#数据库安装" class="header-anchor">#</a> 数据库安装</h3> <h4 id="下载并安装-mysql-官方的-yum-repository"><a href="#下载并安装-mysql-官方的-yum-repository" class="header-anchor">#</a> 下载并安装 MySQL 官方的 Yum Repository</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">wget</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-c</span> http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="yum-安装-yum-repository"><a href="#yum-安装-yum-repository" class="header-anchor">#</a> yum 安装 Yum Repository</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mysql57-community-release-el7-10.noarch.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="安装-mysql-服务器"><a href="#安装-mysql-服务器" class="header-anchor">#</a> 安装 MySQL 服务器</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mysql-community-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="检查是否安装成功"><a href="#检查是否安装成功" class="header-anchor">#</a> 检查是否安装成功</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysql <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>检查是否安装成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040329.png" alt="image-20230102003955126"></p> <h4 id="坑总结"><a href="#坑总结" class="header-anchor">#</a> 坑总结</h4> <h5 id="error-unable-to-find-a-match-mysql-community-server"><a href="#error-unable-to-find-a-match-mysql-community-server" class="header-anchor">#</a> Error: Unable to find a match: mysql-community-server</h5> <p><img src="https://typora-oss.yixihan.chat//img/202301051040356.png" alt="image-20230102002707111"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 解决方法</span>
yum module disable mysql
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mysql-community-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="gpg-check-failed"><a href="#gpg-check-failed" class="header-anchor">#</a> GPG check FAILED</h5> <p><img src="https://typora-oss.yixihan.chat//img/202301051040351.png" alt="image-20220303190048146"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 解决方法</span>
<span class="token function">rpm</span> <span class="token parameter variable">--import</span> https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mysql-community-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="file-etc-my-cnf-from-install-of-mysql-community-server-5-7-40-1-el7-x86-64-conflicts-with-file-from-package-mariadb-connector-c-config-3-1-11-2-oc8-1-noarch"><a href="#file-etc-my-cnf-from-install-of-mysql-community-server-5-7-40-1-el7-x86-64-conflicts-with-file-from-package-mariadb-connector-c-config-3-1-11-2-oc8-1-noarch" class="header-anchor">#</a> file /etc/my.cnf from install of mysql-community-server-5.7.40-1.el7.x86_64 conflicts with file from package mariadb-connector-c-config-3.1.11-2.oc8.1.noarch</h5> <p><img src="https://typora-oss.yixihan.chat//img/202301051040576.png" alt="image-20230102003815447"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 解决方法:删除冲突的包</span>
yum list installed<span class="token operator">|</span><span class="token function">grep</span> mariadb-connector
yum remove mariadb-connector-c-config.noarch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>yum list</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040538.png" alt="image-20230102003850919"></p> <h3 id="数据库配置"><a href="#数据库配置" class="header-anchor">#</a> 数据库配置</h3> <blockquote><p>MySQL 常用命令</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 启动 MySQL</span>
systemctl start mysqld.service

<span class="token comment"># 重启 MySQL</span>
systemctl restart mysqld.service

<span class="token comment"># 停止 MySQL</span>
systemctl stop mysqld.service

<span class="token comment"># 查看 MySQL 运行状态</span>
systemctl status mysqld.service

<span class="token comment"># 进入数据库</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="启动-mysql-服务器"><a href="#启动-mysql-服务器" class="header-anchor">#</a> 启动 MySQL 服务器</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 只要不出任何消息就没问题  </span>
systemctl start mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="查看-mysql-数据库状态"><a href="#查看-mysql-数据库状态" class="header-anchor">#</a> 查看 MySQL 数据库状态</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl status mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301051040629.png" alt="image-20230102004026602"></p> <h4 id="修改-mysql-配置"><a href="#修改-mysql-配置" class="header-anchor">#</a> 修改 mysql 配置</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">mv</span> /etc/my.cnf /etc/my.cnf.example
<span class="token function">vim</span> /etc/my.cnf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>client<span class="token punctuation">]</span>
<span class="token comment"># 端口号</span>
port <span class="token operator">=</span> <span class="token number">1617</span>
socket <span class="token operator">=</span> /tmp/mysql.sock
<span class="token comment"># 默认编码集</span>
default-character-set<span class="token operator">=</span>utf8mb4

<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
no-auto-rehash
<span class="token comment"># 默认编码集</span>
default-character-set <span class="token operator">=</span> utf8mb4


<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>

<span class="token comment">##############################基础设置#####################################</span>

<span class="token comment">#Mysql服务的唯一编号 每个mysql服务Id需唯一</span>
server-id <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#数据库错误日志文件</span>
log_error <span class="token operator">=</span> error.log

<span class="token comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span>
symbolic-links<span class="token operator">=</span><span class="token number">0</span>

pid-file<span class="token operator">=</span>/var/run/mysqld/mysqld.pid

<span class="token comment">#服务端口号 默认3306</span>
port <span class="token operator">=</span> <span class="token number">1617</span>

<span class="token comment">#mysql安装根目录</span>
basedir <span class="token operator">=</span> /var/lib/mysql

<span class="token comment">#mysql数据文件所在位置</span>
datadir <span class="token operator">=</span> /var/lib/mysql

<span class="token comment">#临时目录 比如load data infile会用到</span>
tmpdir  <span class="token operator">=</span> /tmp

<span class="token comment">#设置socke文件所在目录</span>
socket  <span class="token operator">=</span> /tmp/mysql.sock
<span class="token comment">#数据库默认字符集,主流字符集支持一些特殊表情符号（特殊表情符占用4个字节）</span>
character-set-server <span class="token operator">=</span> utf8mb4

<span class="token comment">#数据库字符集对应一些排序等规则，注意要和character-set-server对应</span>
collation-server <span class="token operator">=</span> utf8mb4_general_ci

<span class="token comment">#设置client连接mysql时的字符集,防止乱码</span>
<span class="token assign-left variable">init_connect</span><span class="token operator">=</span>‘SET NAMES utf8mb4‘

<span class="token comment">#是否对sql语句大小写敏感，1表示不敏感</span>
lower_case_table_names <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#最大连接数</span>
max_connections <span class="token operator">=</span> <span class="token number">400</span>

<span class="token comment">#最大错误连接数</span>
max_connect_errors <span class="token operator">=</span> <span class="token number">1000</span>

<span class="token comment">#TIMESTAMP如果没有显示声明NOT NULL，允许NULL值</span>
explicit_defaults_for_timestamp <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><blockquote><p>tips</p></blockquote> <p>如果出现 <code>Job for mysqld.service failed because the control process exited with error code</code> 错误, 则检查 my.cnf 是否书写正确</p> <h4 id="查看-root-密码"><a href="#查看-root-密码" class="header-anchor">#</a> 查看 root 密码</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">grep</span> <span class="token string">&quot;password&quot;</span> /var/log/mysqld.log 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301051040630.png" alt="image-20230102004112450"></p> <h4 id="进入数据库"><a href="#进入数据库" class="header-anchor">#</a> 进入数据库</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="修改密码"><a href="#修改密码" class="header-anchor">#</a> 修改密码</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ALTER <span class="token environment constant">USER</span> <span class="token string">'root'</span>@<span class="token string">'localhost'</span> IDENTIFIED BY <span class="token string">'new password'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="检测配置内容"><a href="#检测配置内容" class="header-anchor">#</a> 检测配置内容</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看端口号是否已被修改 </span>
show global variables like <span class="token string">'port'</span><span class="token punctuation">;</span>

<span class="token comment"># 查看编码集</span>
status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>查看端口号</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040633.png" alt="image-20230102005108019"></p> <blockquote><p>查看编码集</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040696.png" alt="image-20230102005144204"></p> <h4 id="开启-mysql-的全程访问"><a href="#开启-mysql-的全程访问" class="header-anchor">#</a> 开启 MySQL 的全程访问</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>grant all privileges on *.* to <span class="token string">'root'</span>@<span class="token string">'%'</span> identified by <span class="token string">'password'</span> with grant option<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="刷新退出"><a href="#刷新退出" class="header-anchor">#</a> 刷新退出</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
<span class="token keyword">exit</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="设置防火墙-2"><a href="#设置防火墙-2" class="header-anchor">#</a> 设置防火墙</h4> <p>开放Linux防火墙对应端口或服务器安全组对应端口</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 开启端口 永久</span>
firewall-cmd <span class="token parameter variable">--permanent</span> <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp
<span class="token comment"># 重启防火墙</span>
systemctl restart firewalld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="测试连接"><a href="#测试连接" class="header-anchor">#</a> 测试连接</h4> <blockquote><p>tips</p></blockquote> <p>虚拟机上的 MySQL 连接 DataGrip 时需在高级里设置 <code>useSSL = FALSE</code></p> <p><img src="https://typora-oss.yixihan.chat//img/202301051040811.png" alt="image-20230102005432685"></p> <h3 id="mysql-完整配置"><a href="#mysql-完整配置" class="header-anchor">#</a> MySQL 完整配置</h3> <blockquote><p>tips</p></blockquote> <p><strong>上述的文件不建议全部拷贝使用，当需要哪块时单独复制是最好的，因为每台服务器的需求都不一样</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>client<span class="token punctuation">]</span>
port <span class="token operator">=</span> <span class="token number">3306</span>
socket <span class="token operator">=</span> /tmp/mysql.sock

<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>

<span class="token comment">###############################基础设置#####################################</span>

<span class="token comment">#Mysql服务的唯一编号 每个mysql服务Id需唯一</span>
server-id <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#服务端口号 默认3306</span>
port <span class="token operator">=</span> <span class="token number">3306</span>

<span class="token comment">#mysql安装根目录</span>
basedir <span class="token operator">=</span> /opt/mysql

<span class="token comment">#mysql数据文件所在位置</span>
datadir <span class="token operator">=</span> /opt/mysql/data

<span class="token comment">#临时目录 比如load data infile会用到</span>
tmpdir  <span class="token operator">=</span> /tmp

<span class="token comment">#设置socke文件所在目录</span>
socket  <span class="token operator">=</span> /tmp/mysql.sock

<span class="token comment">#主要用于MyISAM存储引擎,如果多台服务器连接一个数据库则建议注释下面内容</span>
skip-external-locking

<span class="token comment">#只能用IP地址检查客户端的登录，不用主机名</span>
skip_name_resolve <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#事务隔离级别，默认为可重复读，mysql默认可重复读级别（此级别下可能参数很多间隙锁，影响性能）</span>
transaction_isolation <span class="token operator">=</span> READ-COMMITTED

<span class="token comment">#数据库默认字符集,主流字符集支持一些特殊表情符号（特殊表情符占用4个字节）</span>
character-set-server <span class="token operator">=</span> utf8mb4

<span class="token comment">#数据库字符集对应一些排序等规则，注意要和character-set-server对应</span>
collation-server <span class="token operator">=</span> utf8mb4_general_ci

<span class="token comment">#设置client连接mysql时的字符集,防止乱码</span>
<span class="token assign-left variable">init_connect</span><span class="token operator">=</span>‘SET NAMES utf8mb4‘

<span class="token comment">#是否对sql语句大小写敏感，1表示不敏感</span>
lower_case_table_names <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#最大连接数</span>
max_connections <span class="token operator">=</span> <span class="token number">400</span>

<span class="token comment">#最大错误连接数</span>
max_connect_errors <span class="token operator">=</span> <span class="token number">1000</span>

<span class="token comment">#TIMESTAMP如果没有显示声明NOT NULL，允许NULL值</span>
explicit_defaults_for_timestamp <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">#SQL数据包发送的大小，如果有BLOB对象建议修改成1G</span>
max_allowed_packet <span class="token operator">=</span> 128M

<span class="token comment">#MySQL连接闲置超过一定时间后(单位：秒)将会被强行关闭</span>
<span class="token comment">#MySQL默认的wait_timeout  值为8个小时, interactive_timeout参数需要同时配置才能生效</span>
interactive_timeout <span class="token operator">=</span> <span class="token number">1800</span>
wait_timeout <span class="token operator">=</span> <span class="token number">1800</span>

<span class="token comment">#内部内存临时表的最大值 ，设置成128M。</span>
<span class="token comment">#比如大数据量的group by ,order by时可能用到临时表，</span>
<span class="token comment">#超过了这个值将写入磁盘，系统IO压力增大</span>
tmp_table_size <span class="token operator">=</span> <span class="token number">134217728</span>
max_heap_table_size <span class="token operator">=</span> <span class="token number">134217728</span>

<span class="token comment">#禁用mysql的缓存查询结果集功能</span>
<span class="token comment">#后期根据业务情况测试决定是否开启</span>
<span class="token comment">#大部分情况下关闭下面两项</span>
query_cache_size <span class="token operator">=</span> <span class="token number">0</span>
query_cache_type <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment">#####################用户进程分配到的内存设置BEGIN#############################</span>

<span class="token comment">##每个session将会分配参数设置的内存大小</span>
<span class="token comment">#用于表的顺序扫描，读出的数据暂存于read_buffer_size中，当buff满时或读完，将数据返回上层调用者</span>
<span class="token comment">#一般在128kb ~ 256kb,用于MyISAM</span>
<span class="token comment">#read_buffer_size = 131072</span>
<span class="token comment">#用于表的随机读取，当按照一个非索引字段排序读取时会用到，</span>
<span class="token comment">#一般在128kb ~ 256kb,用于MyISAM</span>
<span class="token comment">#read_rnd_buffer_size = 262144</span>
<span class="token comment">#order by或group by时用到</span>

<span class="token comment">#建议先调整为2M，后期观察调整</span>
sort_buffer_size <span class="token operator">=</span> <span class="token number">2097152</span>

<span class="token comment">#一般数据库中没什么大的事务，设成1~2M，默认32kb</span>
binlog_cache_size <span class="token operator">=</span> <span class="token number">524288</span>

<span class="token comment">########################用户进程分配到的内存设置END############################</span>

<span class="token comment">#在MySQL暂时停止响应新请求之前的短时间内多少个请求可以被存在堆栈中</span>
<span class="token comment">#官方建议back_log = 50 + (max_connections / 5),封顶数为900</span>
back_log <span class="token operator">=</span> <span class="token number">130</span>

<span class="token comment">############################日志设置##########################################</span>

<span class="token comment">#数据库错误日志文件</span>
log_error <span class="token operator">=</span> error.log

<span class="token comment">#慢查询sql日志设置</span>
slow_query_log <span class="token operator">=</span> <span class="token number">1</span>
slow_query_log_file <span class="token operator">=</span> slow.log

<span class="token comment">#检查未使用到索引的sql</span>
log_queries_not_using_indexes <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#针对log_queries_not_using_indexes开启后，记录慢sql的频次、每分钟记录的条数</span>
log_throttle_queries_not_using_indexes <span class="token operator">=</span> <span class="token number">5</span>

<span class="token comment">#作为从库时生效,从库复制中如何有慢sql也将被记录</span>
log_slow_slave_statements <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#慢查询执行的秒数，必须达到此值可被记录</span>
long_query_time <span class="token operator">=</span> <span class="token number">8</span>

<span class="token comment">#检索的行数必须达到此值才可被记为慢查询</span>
min_examined_row_limit <span class="token operator">=</span> <span class="token number">100</span>

<span class="token comment">#mysql binlog日志文件保存的过期时间，过期后自动删除</span>
expire_logs_days <span class="token operator">=</span> <span class="token number">5</span>

<span class="token comment">############################主从复制设置#####################################</span>

<span class="token comment">#开启mysql binlog功能</span>
log-bin<span class="token operator">=</span>mysql-bin

<span class="token comment">#binlog记录内容的方式，记录被操作的每一行</span>
binlog_format <span class="token operator">=</span> ROW

<span class="token comment">#对于binlog_format = ROW模式时，减少记录日志的内容，只记录受影响的列</span>
binlog_row_image <span class="token operator">=</span> minimal

<span class="token comment">#master status and connection information输出到表mysql.slave_master_info中</span>
master_info_repository <span class="token operator">=</span> TABLE

<span class="token comment">#the slave‘s position in the relay logs输出到表mysql.slave_relay_log_info中</span>
relay_log_info_repository <span class="token operator">=</span> TABLE

<span class="token comment">#作为从库时生效,想进行级联复制，则需要此参数</span>
log_slave_updates

<span class="token comment">#作为从库时生效,中继日志relay-log可以自我修复</span>
relay_log_recovery <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">#作为从库时生效,主从复制时忽略的错误</span>
slave_skip_errors <span class="token operator">=</span> ddl_exist_errors

<span class="token comment">#####################redo log和binlog的关系设置BEGIN#########################</span>

<span class="token comment">#(步骤1) prepare dml相关的SQL操作，然后将redo log buff中的缓存持久化到磁盘</span>
<span class="token comment">#(步骤2)如果前面prepare成功，那么再继续将事务日志持久化到binlog</span>
<span class="token comment">#(步骤3)如果前面成功，那么在redo log里面写上一个commit记录</span>
<span class="token comment">#当innodb_flush_log_at_trx_commit和sync_binlog都为1时是最安全的，</span>
<span class="token comment">#在mysqld服务崩溃或者服务器主机crash的情况下，binary log只有可能丢失最多一个语句或者一个事务。</span>
<span class="token comment">#但是都设置为1时会导致频繁的io操作，因此该模式也是最慢的一种方式。</span>
<span class="token comment">#当innodb_flush_log_at_trx_commit设置为0，mysqld进程的崩溃会导致上一秒钟所有事务数据的丢失。</span>
<span class="token comment">#当innodb_flush_log_at_trx_commit设置为2，只有在操作系统崩溃或者系统掉电的情况下，上一秒钟所有事务数据才可能丢失。</span>

<span class="token comment">#commit事务时,控制redo log buff持久化磁盘的模式 默认为1</span>
innodb_flush_log_at_trx_commit <span class="token operator">=</span> <span class="token number">2</span>

<span class="token comment">#commit事务时,控制写入mysql binlog日志的模式 默认为0</span>
<span class="token comment">#innodb_flush_log_at_trx_commit和sync_binlog都为1时，mysql最为安全但性能上压力也是最大</span>
sync_binlog <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">####################redo log和binlog的关系设置END############################</span>

<span class="token comment">############################Innodb设置#####################################</span>

<span class="token comment">#数据块的单位8k，默认是16k，16kCPU压力稍小，8k对select的吞吐量大</span>
<span class="token comment">#innodb_page_size的参数值也影响最大索引长度，8k比16k的最大索引长度小</span>
<span class="token comment">#innodb_page_size = 8192</span>

<span class="token comment">#一般设置物理存储的60% ~ 70%</span>
innodb_buffer_pool_size <span class="token operator">=</span> 1G

<span class="token comment">#5.7.6之后默认16M</span>
<span class="token comment">#innodb_log_buffer_size = 16777216</span>

<span class="token comment">#该参数针对unix、linux，window上直接注释该参数.默认值为NULL</span>
<span class="token comment">#O_DIRECT减少操作系统级别VFS的缓存和Innodb本身的buffer缓存之间的冲突</span>
innodb_flush_method <span class="token operator">=</span> O_DIRECT

<span class="token comment">#此格式支持压缩, 5.7.7之后为默认值</span>
innodb_file_format <span class="token operator">=</span> Barracuda

<span class="token comment">#CPU多核处理能力设置，假设CPU是2颗4核的，设置如下</span>
<span class="token comment">#读多，写少可以设成2:6的比例</span>
innodb_write_io_threads <span class="token operator">=</span> <span class="token number">4</span>
innodb_read_io_threads <span class="token operator">=</span> <span class="token number">4</span>

<span class="token comment">#提高刷新脏页数量和合并插入数量，改善磁盘I/O处理能力</span>
<span class="token comment">#默认值200（单位：页）</span>
<span class="token comment">#可根据磁盘近期的IOPS确定该值</span>
innodb_io_capacity <span class="token operator">=</span> <span class="token number">500</span>

<span class="token comment">#为了获取被锁定的资源最大等待时间，默认50秒，超过该时间会报如下错误:</span>
<span class="token comment"># ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction</span>
innodb_lock_wait_timeout <span class="token operator">=</span> <span class="token number">30</span>

<span class="token comment">#调整buffer pool中最近使用的页读取并dump的百分比,通过设置该参数可以减少转储的page数</span>
innodb_buffer_pool_dump_pct <span class="token operator">=</span> <span class="token number">40</span>

<span class="token comment">#设置redoLog文件所在目录, redoLog记录事务具体操作内容</span>
innodb_log_group_home_dir <span class="token operator">=</span> /opt/mysql/redolog/

<span class="token comment">#设置undoLog文件所在目录, undoLog用于事务回滚操作</span>
innodb_undo_directory <span class="token operator">=</span> /opt/mysql/undolog/

<span class="token comment">#在innodb_log_group_home_dir中的redoLog文件数, redoLog文件内容是循环覆盖写入。</span>
innodb_log_files_in_group <span class="token operator">=</span> <span class="token number">3</span>

<span class="token comment">#MySql5.7官方建议尽量设置的大些，可以接近innodb_buffer_pool_size的大小</span>
<span class="token comment">#之前设置该值较大时可能导致mysql宕机恢复时间过长，现在恢复已经加快很多了</span>
<span class="token comment">#该值减少脏数据刷新到磁盘的频次</span>
<span class="token comment">#最大值innodb_log_file_size * innodb_log_files_in_group &lt;= 512GB,单文件&lt;=256GB</span>
innodb_log_file_size <span class="token operator">=</span> 1024M

<span class="token comment">#设置undoLog文件所占空间可以回收</span>
<span class="token comment">#5.7之前的MySql的undoLog文件一直增大无法回收</span>
innodb_undo_log_truncate <span class="token operator">=</span> <span class="token number">1</span>
innodb_undo_tablespaces <span class="token operator">=</span> <span class="token number">3</span>
innodb_undo_logs <span class="token operator">=</span> <span class="token number">128</span>

<span class="token comment">#5.7.7默认开启该参数 控制单列索引长度最大达到3072</span>
<span class="token comment">#innodb_large_prefix = 1</span>

<span class="token comment">#5.7.8默认为4个, Inodb后台清理工作的线程数</span>
<span class="token comment">#innodb_purge_threads = 4</span>

<span class="token comment">#通过设置配置参数innodb_thread_concurrency来限制并发线程的数量，</span>
<span class="token comment">#一旦执行线程的数量达到这个限制，额外的线程在被放置到对队列中之前，会睡眠数微秒，</span>
<span class="token comment">#可以通过设定参数innodb_thread_sleep_delay来配置睡眠时间</span>
<span class="token comment">#该值默认为0,在官方doc上，对于innodb_thread_concurrency的使用，也给出了一些建议:</span>
<span class="token comment">#(1)如果一个工作负载中，并发用户线程的数量小于64，建议设置innodb_thread_concurrency=0；</span>
<span class="token comment">#(2)如果工作负载一直较为严重甚至偶尔达到顶峰，建议先设置innodb_thread_concurrency=128,</span>
<span class="token comment">###并通过不断的降低这个参数，96, 80, 64等等，直到发现能够提供最佳性能的线程数</span>
<span class="token comment">#innodb_thread_concurrency = 0</span>

<span class="token comment">#强所有发生的死锁错误信息记录到error.log中，之前通过命令行只能查看最近一次死锁信息</span>
innodb_print_all_deadlocks <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">############################其他设置########################################</span>

<span class="token punctuation">[</span>mysqldump<span class="token punctuation">]</span>
quick
max_allowed_packet <span class="token operator">=</span> 128M

<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
no-auto-rehash

<span class="token punctuation">[</span>myisamchk<span class="token punctuation">]</span>
key_buffer_size <span class="token operator">=</span> 20M
sort_buffer_size <span class="token operator">=</span> 256k
read_buffer <span class="token operator">=</span> 2M
write_buffer <span class="token operator">=</span> 2M

<span class="token punctuation">[</span>mysqlhotcopy<span class="token punctuation">]</span>
interactive-timeout

<span class="token punctuation">[</span>mysqld_safe<span class="token punctuation">]</span>
<span class="token comment">#增加每个进程的可打开文件数量</span>
open-files-limit <span class="token operator">=</span> <span class="token number">28192</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br></div></div><h2 id="rabbitmq-安装"><a href="#rabbitmq-安装" class="header-anchor">#</a> RabbitMQ 安装</h2> <p><a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ-官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/rabbitmq/rabbitmq-server/releases" target="_blank" rel="noopener noreferrer">RabbitMQ-下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/rabbitmq/erlang-rpm/releases/" target="_blank" rel="noopener noreferrer">erlang-下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer">RabbitMQ-文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>tips</p></blockquote> <p>erlang 不同 centos 版本需选择不同安装包</p> <h3 id="安装-rabbitmq"><a href="#安装-rabbitmq" class="header-anchor">#</a> 安装 RabbitMQ</h3> <h4 id="centos-7"><a href="#centos-7" class="header-anchor">#</a> CentOS 7</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装 erlang</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> erlang-23.3.4.10-1.el7.x86_64.rpm

<span class="token comment"># 安装 socat</span>
yum <span class="token function">install</span> socat <span class="token parameter variable">-y</span>

<span class="token comment"># 安装 RabbitMQ</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> rabbitmq-server-3.9.12-1.el7.noarch.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="centos-8"><a href="#centos-8" class="header-anchor">#</a> CentOS 8</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装 erlang</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> erlang-24.3.4.5-1.el8.x86_64.rpm

<span class="token comment"># 安装 socat</span>
dnf <span class="token function">install</span> socat <span class="token parameter variable">-y</span>

<span class="token comment"># 安装 RabbitMQ</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> rabbitmq-server-3.9.12-1.el7.noarch.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="rabbitmq-常用命令"><a href="#rabbitmq-常用命令" class="header-anchor">#</a> RabbitMQ 常用命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 添加开机启动 RabbitMQ 服务</span>
<span class="token function">chkconfig</span> rabbitmq-server on
<span class="token comment"># 启动服务</span>
/sbin/service rabbitmq-server start
<span class="token comment"># 重启服务</span>
/sbin/service rabbitmq-server restart
<span class="token comment"># 查看服务状态</span>
/sbin/service rabbitmq-server status
<span class="token comment">#停止服务(选择执行)</span>
/sbin/service rabbitmq-server stop
<span class="token comment"># 开启 web 管理插件</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>查看服务状态</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040835.png" alt="image-20230102011704188"></p> <h3 id="开启-web-管理插件"><a href="#开启-web-管理插件" class="header-anchor">#</a> 开启 web 管理插件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 开启 web 管理插件</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management

<span class="token comment"># 防火墙开启端口</span>
<span class="token comment"># 15672 5672</span>

<span class="token comment"># 添加账户</span>
<span class="token comment"># 创建账号</span>
rabbitmqctl add_user user password

<span class="token comment"># 设置用户角色</span>
rabbitmqctl set_user_tags user administrator

<span class="token comment"># 设置用户权限</span>
<span class="token comment"># 格式 set_permissions [-p &lt;vhostpath&gt;] &lt;user&gt; &lt;conf&gt; &lt;write&gt; &lt;read&gt;</span>
rabbitmqctl set_permissions <span class="token parameter variable">-p</span> <span class="token string">&quot;/&quot;</span> user <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>

<span class="token comment"># 列出当前所有的用户</span>
rabbitmqctl list_users
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="安装延时队列插件"><a href="#安装延时队列插件" class="header-anchor">#</a> 安装延时队列插件</h3> <p><a href="https://github.com/rabbitmq/rabbitmq-delayed-message-exchange/releases" target="_blank" rel="noopener noreferrer">插件下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 进入 RabbitMQ 的安装目录下的 plgins 目录</span>
<span class="token builtin class-name">cd</span> /usr/lib/rabbitmq/lib/rabbitmq_server-3.9.12/plugins/

<span class="token comment"># 安装插件</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_delayed_message_exchange

<span class="token comment"># 重启 RabbitMQ</span>
systemctl restart rabbitmq-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>检测插件是否安装成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040890.png" alt="image-20220115101919856"></p> <h2 id="nginx-安装"><a href="#nginx-安装" class="header-anchor">#</a> Nginx 安装</h2> <h3 id="环境准备"><a href="#环境准备" class="header-anchor">#</a> 环境准备</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装gcc</span>
dnf <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc-c++ gcc <span class="token function">make</span>

<span class="token comment"># 安装 PCRE pcre-devel</span>
dnf <span class="token function">install</span> <span class="token parameter variable">-y</span> pcre pcre-devel

<span class="token comment"># 安装 zlib</span>
dnf <span class="token function">install</span> <span class="token parameter variable">-y</span> zlib zlib-devel

<span class="token comment"># 安装 Open SSL</span>
dnf <span class="token function">install</span> <span class="token parameter variable">-y</span> openssl openssl-devel
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="安装-pcre"><a href="#安装-pcre" class="header-anchor">#</a> 安装 pcre</h3> <p><a href="http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz" target="_blank" rel="noopener noreferrer">下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 解压</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> pcre-8.35.tar.gz
<span class="token function">mv</span> pcre-8.35 /opt/
<span class="token builtin class-name">cd</span> /opt/pcre-8.35/

<span class="token comment"># 编译安装</span>
./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> instal

<span class="token comment"># 查看版本</span>
pcre-config <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="解压-5"><a href="#解压-5" class="header-anchor">#</a> 解压</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> nginx-1.22.1.tar.gz
<span class="token function">mv</span> nginx-1.22.1 /opt/
<span class="token builtin class-name">cd</span> /opt/nginx-1.22.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="编译安装-3"><a href="#编译安装-3" class="header-anchor">#</a> 编译安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./configure <span class="token punctuation">\</span>
<span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/nginx <span class="token punctuation">\</span>
<span class="token parameter variable">--user</span><span class="token operator">=</span>yixihan <span class="token punctuation">\</span>
--with-http_ssl_module <span class="token punctuation">\</span>
--with-http_gzip_static_module <span class="token punctuation">\</span>
--http-client-body-temp-path<span class="token operator">=</span>/usr/local/nginx/tmp/client/ <span class="token punctuation">\</span>
--http-proxy-temp-path<span class="token operator">=</span>/usr/local/nginx/tmp/proxy/ <span class="token punctuation">\</span>
--http-fastcgi-temp-path<span class="token operator">=</span>/usr/local/nginx/tmp/fcgi/ <span class="token punctuation">\</span>
--with-poll_module <span class="token punctuation">\</span>
--with-file-aio <span class="token punctuation">\</span>
--with-http_realip_module <span class="token punctuation">\</span>
--with-http_addition_module <span class="token punctuation">\</span>
--with-http_addition_module <span class="token punctuation">\</span>
--with-http_random_index_module <span class="token punctuation">\</span>
--with-http_stub_status_module <span class="token punctuation">\</span>
--http-uwsgi-temp-path<span class="token operator">=</span>/usr/local/nginx/uwsgi_temp <span class="token punctuation">\</span>
--http-scgi-temp-path<span class="token operator">=</span>/usr/local/nginx/scgi_temp <span class="token punctuation">\</span>
--with-pcre<span class="token operator">=</span>/opt/pcre-8.35/ <span class="token punctuation">\</span>
--with-stream

<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="测试是否安装成功-2"><a href="#测试是否安装成功-2" class="header-anchor">#</a> 测试是否安装成功</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nginx <span class="token parameter variable">-V</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>测试是否安装成功</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301061225665.png" alt="image-20230106122552528"></p> <h3 id="常用命令-2"><a href="#常用命令-2" class="header-anchor">#</a> 常用命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 开启 nginx</span>
systemctl start nginx
<span class="token comment"># 关闭 nginx</span>
systemctl stop nginx
<span class="token comment"># 重启 nginx</span>
systemctl restart nginx
<span class="token comment"># 查看 nginx 状态</span>
systemctl status nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="nacos-安装"><a href="#nacos-安装" class="header-anchor">#</a> Nacos 安装</h2> <h3 id="单机安装"><a href="#单机安装" class="header-anchor">#</a> 单机安装</h3> <h4 id="解压-6"><a href="#解压-6" class="header-anchor">#</a> 解压</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> nacos-server-2.0.4.tar.gz
<span class="token function">mv</span> nacos /opt/nacos
<span class="token builtin class-name">cd</span> /opt/nacos/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="修改启动配置"><a href="#修改启动配置" class="header-anchor">#</a> 修改启动配置</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cp</span> bin/startup.sh bin/startup.sh.example
<span class="token function">vim</span> bin/startup.sh

<span class="token comment"># 单机运行</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">MODE</span><span class="token operator">=</span><span class="token string">&quot;standalone&quot;</span>

<span class="token comment"># 修改JVM</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">${MODE}</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;standalone&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token comment"># 单机 JVM 内存修改位置</span>
    <span class="token assign-left variable">JAVA_OPT</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${JAVA_OPT}</span> -Xms256m -Xmx256m -Xmn128m&quot;</span>
    <span class="token assign-left variable">JAVA_OPT</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${JAVA_OPT}</span> -Dnacos.standalone=true&quot;</span>
<span class="token keyword">else</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">${EMBEDDED_STORAGE}</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;embedded&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token assign-left variable">JAVA_OPT</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${JAVA_OPT}</span> -DembeddedStorage=true&quot;</span>
    <span class="token keyword">fi</span>
    <span class="token comment"># 集群 JVM 内存修改位置</span>
    <span class="token assign-left variable">JAVA_OPT</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${JAVA_OPT}</span> -server -Xms2g -Xmx2g -Xmn1g -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m&quot;</span>
    <span class="token assign-left variable">JAVA_OPT</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${JAVA_OPT}</span> -XX:-OmitStackTraceInFastThrow -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=<span class="token variable">${BASE_DIR}</span>/logs/java_heapdump.hprof&quot;</span>
    <span class="token assign-left variable">JAVA_OPT</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${JAVA_OPT}</span> -XX:-UseLargePages&quot;</span>

<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>根据自己的机器配置来</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051040928.png" alt="image-20230102012954254"></p> <h4 id="修改运行配置"><a href="#修改运行配置" class="header-anchor">#</a> 修改运行配置</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> conf/application.properties

<span class="token comment"># 端口号</span>
<span class="token assign-left variable">server.port</span><span class="token operator">=</span><span class="token number">23412</span>

<span class="token comment"># 数据库配置</span>
<span class="token assign-left variable">spring.datasource.platform</span><span class="token operator">=</span>mysql
 
<span class="token assign-left variable">db.num</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">db.url.0</span><span class="token operator">=</span>jdbc:mysql://localhost:3306/nacos_config?characterEncoding<span class="token operator">=</span>utf8<span class="token operator">&amp;</span><span class="token assign-left variable">connectTimeout</span><span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span><span class="token assign-left variable">socketTimeout</span><span class="token operator">=</span><span class="token number">3000</span><span class="token operator">&amp;</span><span class="token assign-left variable">autoReconnect</span><span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token assign-left variable">serverTimezone</span><span class="token operator">=</span>UTC
<span class="token assign-left variable">db.user</span><span class="token operator">=</span>root
<span class="token assign-left variable">db.password</span><span class="token operator">=</span><span class="token number">123456</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="运行"><a href="#运行" class="header-anchor">#</a> 运行</h4> <p><img src="https://typora-oss.yixihan.chat//img/202301051040957.png" alt="image-20230102014651289"></p> <h3 id="集群安装"><a href="#集群安装" class="header-anchor">#</a> 集群安装</h3> <p>待更新</p> <h2 id="sentinel-docker-搭建"><a href="#sentinel-docker-搭建" class="header-anchor">#</a> Sentinel docker 搭建</h2> <p><a href="https://github.com/alibaba/sentinel/releases" target="_blank" rel="noopener noreferrer">sentinel 下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="dockerfile-2"><a href="#dockerfile-2" class="header-anchor">#</a> Dockerfile</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>FROM java:8
EXPOSE <span class="token number">8888</span>

ADD *.jar  /app.jar
RUN <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">'touch /app.jar'</span> <span class="token function">cp</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'Asia/Shanghai'</span> <span class="token operator">&gt;</span>/etc/timezone
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/app.jar&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="打包-sentinel-镜像"><a href="#打包-sentinel-镜像" class="header-anchor">#</a> 打包 Sentinel 镜像</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> sentinel-dashboard:<span class="token punctuation">[</span>TAG<span class="token punctuation">]</span> <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="运行-sentinel-镜像"><a href="#运行-sentinel-镜像" class="header-anchor">#</a> 运行 Sentinel 镜像</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span>  <span class="token parameter variable">-p</span> <span class="token number">8888</span>:8080  <span class="token parameter variable">--name</span><span class="token operator">=</span>sentinel <span class="token parameter variable">--restart</span><span class="token operator">=</span>always sentinel-dashboard:<span class="token punctuation">[</span>TAG<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>访问地址 <span class="token builtin class-name">:</span> http://host:8888/
用户名: sentinel
密码: sentinel
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="jenkins-搭建"><a href="#jenkins-搭建" class="header-anchor">#</a> Jenkins 搭建</h2> <p>本教程采用 <code>docker</code> 搭建 <code>jenkins</code>， 并将部署的服务运行在宿主机 <code>docker</code>上</p> <h3 id="docker-运行-jenkins"><a href="#docker-运行-jenkins" class="header-anchor">#</a> docker 运行 Jenkins</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-u</span> root <span class="token parameter variable">-d</span> <span class="token parameter variable">-m</span> 1024m <span class="token punctuation">\</span>
<span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
<span class="token parameter variable">-p</span> <span class="token number">8099</span>:8080 <span class="token parameter variable">-p</span> <span class="token number">50099</span>:50000 <span class="token parameter variable">--privileged</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">which</span> <span class="token function">docker</span><span class="token variable">)</span></span>:/bin/docker <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /usr/lib64/libltdl.so.7:/usr/lib/x86_64-linux-gnu/libltdl.so.7 <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /home/jenkins:/var/jenkins_home <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime <span class="token punctuation">\</span>
<span class="token parameter variable">--name</span> jenkins jenkinsci/blueocean
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>参数讲解</p></blockquote> <ul><li><p>-u root : 以宿主机 root 用户的权限运行 Jenkins</p></li> <li><p>-m 1024m : 限制 Jenkins 内存大小</p></li> <li><p>--restart=always : 能够使我们在重启 docker 时，自动启动相关容器</p></li> <li><p>-p 8099:8080 -p 50099:50000 : 对外映射接口</p></li> <li><p>--privileged : 让 Jenkins 容器中的 root 用户拥有真正的宿主机 root 权限</p></li> <li><p>-v /var/run/docker.sock:/var/run/docker.sock : 容器中的进程通过它与 docker 守护进程进行通信</p></li> <li><p>-v $(which docker):/usr/bin/docker : 将宿主机的docker命令挂载到容器中
$(which docker) 是docker命令所在位置, 一般在/usr/bin/docker,用$(which docker)就行</p></li> <li><p>/usr/lib64/libltdl.so.7:/usr/lib/x86_64-linux-gnu/libltdl.so.7 : Docker命令执行所依赖的函数库</p> <p>centos7 / centos8 中该文件路径为/usr/lib64/libltdl.so.7</p> <p>ubuntu中该文件路径为/usr/lib/x86_64-linux-gnu/libltdl.so.7</p></li> <li><p>/home/jenkins:/var/jenkins_home : <code>/home/jenkins</code> 为挂载在宿主机 Jenkins 目录位置</p></li> <li><p>-v /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime : 挂载宿主机的时区, 让 Jenkins 拥有正确的时间显示</p></li></ul> <h4 id="防火墙配置"><a href="#防火墙配置" class="header-anchor">#</a> 防火墙配置</h4> <p>打开对应端口防火墙</p> <h4 id="复制一份-maven-到-jenkins-目录"><a href="#复制一份-maven-到-jenkins-目录" class="header-anchor">#</a> 复制一份 maven 到  Jenkins 目录</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cp</span> <span class="token parameter variable">-r</span> /opt/apache-maven-3.8.7 /home/jenkins
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301061522183.png" alt="image-20230106152252054"></p> <h4 id="查询-jenkins-内是否可以执行宿主机中的-docker"><a href="#查询-jenkins-内是否可以执行宿主机中的-docker" class="header-anchor">#</a> 查询 Jenkins 内是否可以执行宿主机中的 docker</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token punctuation">[</span>容器id/容器name<span class="token punctuation">]</span> /bin/bash
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> jenkins /bin/bash

<span class="token comment"># 执行命令</span>
<span class="token function">docker</span> <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="jenkins-镜像配置"><a href="#jenkins-镜像配置" class="header-anchor">#</a> Jenkins 镜像配置</h3> <h4 id="前往-jenkins-在宿主机挂载的目录"><a href="#前往-jenkins-在宿主机挂载的目录" class="header-anchor">#</a> 前往 Jenkins 在宿主机挂载的目录</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /home/jenkins
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="修改-hudson-model-updatecenter-xml-文件"><a href="#修改-hudson-model-updatecenter-xml-文件" class="header-anchor">#</a> 修改 hudson.model.UpdateCenter.xml 文件</h4> <p>修改为清华源</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> hudson.model.UpdateCenter.xml

<span class="token comment"># 修改 sites - site - url</span>
https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301051046519.png" alt="image-20230105104602442"></p> <h4 id="修改-default-json"><a href="#修改-default-json" class="header-anchor">#</a> 修改 default.json</h4> <p>要修改的地址有两部分：</p> <ul><li>插件查找搜索地址（<em>默认为 http://www.google.com/</em>），我们更换成百度的地址；</li> <li>插件下载地址（<em>默认为 https://updates.jenkins.io/download</em>），我们更换成国内镜像地址；</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> updates

<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s#https://updates.jenkins.io/download#https://mirrors.tuna.tsinghua.edu.cn/jenkins#g'</span> default.json
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s#http://www.google.com#https://www.baidu.com#g'</span> default.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="重启-jenkins"><a href="#重启-jenkins" class="header-anchor">#</a> 重启 Jenkins</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> restart <span class="token punctuation">[</span>容器id/容器name<span class="token punctuation">]</span>
<span class="token function">docker</span> restart jenkins
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="jenkins-配置"><a href="#jenkins-配置" class="header-anchor">#</a> Jenkins 配置</h3> <p>为方便, Jenkins 自动部署最好使用 gitee (国内服务器, 不用担心网络问题)</p> <h4 id="初始化-jenkins"><a href="#初始化-jenkins" class="header-anchor">#</a> 初始化 Jenkins</h4> <p><img src="https://typora-oss.yixihan.chat//img/202301061525358.png" alt="image-20230106152537105"></p> <blockquote><p>密码获取</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> /home/jenkins/secrets/initialAdminPassword
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="安装社区推荐插件"><a href="#安装社区推荐插件" class="header-anchor">#</a> 安装社区推荐插件</h4> <p><img src="https://typora-oss.yixihan.chat//img/202301061528390.png" alt="image-20230106152827172"></p> <h4 id="创建管理员"><a href="#创建管理员" class="header-anchor">#</a> 创建管理员</h4> <p><img src="https://typora-oss.yixihan.chat//img/202301061533417.png" alt="image-20230106153340176"></p> <h4 id="实例配置"><a href="#实例配置" class="header-anchor">#</a> 实例配置</h4> <p><img src="https://typora-oss.yixihan.chat//img/202301061534982.png" alt="image-20230106153420752"></p> <h4 id="插件更新"><a href="#插件更新" class="header-anchor">#</a> 插件更新</h4> <h5 id="更新插件"><a href="#更新插件" class="header-anchor">#</a> 更新插件</h5> <h5 id="下载插件"><a href="#下载插件" class="header-anchor">#</a> 下载插件</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 下载插件列表</span>
gitee
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="坑"><a href="#坑" class="header-anchor">#</a> 坑</h5> <p>插件可能在默认下载或更新之后存在 Jenkins 版本过低而无法加载的问题, 只需要更新 jenkins 即可</p> <p>若面板没找到自动更新选项,可以手动更新</p> <p><a href="">Jenkins 下载地址</a></p> <p>下载之后将这个war包替换容器内的 <code>/usr/share/jenkins/jenkins.war</code></p> <h4 id="系统配置"><a href="#系统配置" class="header-anchor">#</a> 系统配置</h4> <h5 id="maven-配置"><a href="#maven-配置" class="header-anchor">#</a> Maven 配置</h5> <p>系统配置 -&gt; 全局属性</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>M2_HOME
/var/jenkins_home/maven-3.8.7
 
<span class="token environment constant">PATH</span>+EXTRA
/var/jenkins_home/maven-3.8.7/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://typora-oss.yixihan.chat//img/202301051057649.png" alt="image-20230105105749453"></p> <p>最后保存即可</p> <h5 id="gitee-配置"><a href="#gitee-配置" class="header-anchor">#</a> gitee 配置</h5> <p>系统配置 -&gt; gitee 配置</p> <blockquote><p>新增仓库</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051059652.png" alt="image-20230105105942540"></p> <p>输入 gitee 链接 : https://gitee.com/xxx/xxx.git</p> <p>输入 gitee 域名 : https://gitee.com</p> <p>选择证书令牌</p> <blockquote><p>配置证书令牌</p></blockquote> <p>点击添加</p> <p><img src="https://typora-oss.yixihan.chat//img/202301051102049.png" alt="image-20230105110242969"></p> <p>选择 gitee API 令牌</p> <p><img src="https://typora-oss.yixihan.chat//img/202301051104178.png" alt="image-20230105110423075"></p> <p>获取 gitee API 令牌 : <a href="https://gitee.com/profile/personal_access_tokens" target="_blank" rel="noopener noreferrer">gitee API 令牌获取地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>获取之后即可添加保存</p> <blockquote><p>最终配置效果如下</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301051059219.png" alt="image-20230105105910099"></p> <p>测试连接可行之后保存即可</p> <h3 id="新增-job-应用"><a href="#新增-job-应用" class="header-anchor">#</a> 新增 job - 应用</h3> <p>输入描述, 选择 <code>gitee</code> 链接</p> <p><img src="https://typora-oss.yixihan.chat//img/202301061641334.png" alt="image-20230106164113043"></p> <h4 id="源码管理"><a href="#源码管理" class="header-anchor">#</a> 源码管理</h4> <p><img src="https://typora-oss.yixihan.chat//img/202301061639015.png" alt="image-20230106163941811"></p> <blockquote><p>账号添加</p></blockquote> <p>输入账号密码即可</p> <p><img src="https://typora-oss.yixihan.chat//img/202301061638011.png" alt="image-20230106163858778"></p> <h4 id="构建步骤"><a href="#构建步骤" class="header-anchor">#</a> 构建步骤</h4> <p>选择执行 <code>shell</code></p> <p><img src="https://typora-oss.yixihan.chat//img/202301061640896.png" alt="image-20230106164027685"></p> <blockquote><p>shell命令</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">############################################################################################################</span>
<span class="token comment">###构建命令</span>
<span class="token comment">############################################################################################################</span>

<span class="token builtin class-name">echo</span> <span class="token variable">$JAVA_HOME</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============java变量路径:<span class="token variable">$JAVA_HOME</span>&quot;</span> 

<span class="token comment"># 项目路径, 一般是项目名</span>
<span class="token assign-left variable">PROJECT_LOCATION</span><span class="token operator">=</span>yibot
<span class="token comment"># 模块名</span>
<span class="token assign-left variable">PROJECT</span><span class="token operator">=</span>YiBot
<span class="token comment"># 组 ID</span>
<span class="token assign-left variable">GROUP_ID</span><span class="token operator">=</span>com.yixihan

<span class="token comment">############################maven 打包#####################################</span>
<span class="token comment"># 跳转到源代码目录, 执行 maven 命令 (需更改 maven 路径)</span>
<span class="token builtin class-name">cd</span> /var/jenkins_home/workspace/<span class="token variable">${PROJECT_LOCATION}</span> <span class="token operator">&amp;&amp;</span> /var/jenkins_home/apache-maven-3.8.7/bin/mvn  clean <span class="token function">install</span> <span class="token parameter variable">-am</span> <span class="token parameter variable">-pl</span> <span class="token variable">${GROUP_ID}</span><span class="token builtin class-name">:</span><span class="token variable">${PROJECT}</span> <span class="token parameter variable">-Dmaven.test.skip</span><span class="token operator">=</span>true
<span class="token comment">###########################################################################</span>

<span class="token comment">############################历史镜像,容器处理#################################</span>
<span class="token comment"># docker 镜像表情按</span>
<span class="token assign-left variable">TAG</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">v</span> <span class="token string">&quot;+%Y%m%d&quot;</span><span class="token variable">`</span></span>
<span class="token comment"># docker镜像名称</span>
<span class="token assign-left variable">IMAGE_NAME</span><span class="token operator">=</span><span class="token variable">$PROJECT</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============查看进程id，然后删除&quot;</span>
<span class="token comment">#容器id</span>
<span class="token assign-left variable">cid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token operator">|</span> <span class="token function">grep</span> $IMAGE_NAME <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1}'</span><span class="token variable">)</span></span>
<span class="token comment">#镜像id</span>
<span class="token assign-left variable">iid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> $IMAGE_NAME <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span><span class="token variable">)</span></span>

<span class="token comment"># 判断容器 &amp; 镜像是否存在,如果存在则删除</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$cid</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;存在容器<span class="token variable">$IMAGE_NAME</span>，cid=<span class="token variable">$cid</span>,删除容器。。。&quot;</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable">$cid</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;不存在<span class="token variable">$IMAGE_NAME</span>容器&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$iid</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;存在镜像<span class="token variable">$IMAGE_NAME</span>，iid=<span class="token variable">$iid</span>,删除容器镜像。。。&quot;</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> <span class="token variable">$iid</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;不存在<span class="token variable">$IMAGE_NAME</span>镜像&quot;</span>
<span class="token keyword">fi</span> 
<span class="token comment">###########################################################################</span>

<span class="token comment">############################镜像构建,容器启动#################################</span>
<span class="token comment">### 构建容器</span>
<span class="token comment"># 跳转到源代码目录</span>
<span class="token builtin class-name">cd</span> /var/jenkins_home/workspace/<span class="token variable">${PROJECT_LOCATION}</span>
<span class="token comment"># docker 镜像构建命令</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span> <span class="token builtin class-name">.</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============开始构建镜像<span class="token variable">$IMAGE_NAME</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前docker 所有镜像：&quot;</span>
<span class="token function">docker</span> images
<span class="token builtin class-name">echo</span> <span class="token string">&quot;启动容器-------&gt;&quot;</span>
<span class="token comment"># docker 容器启动命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">19999</span>:19999 <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;启动服务成功&quot;</span>
<span class="token comment">###########################################################################</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;查看启动的所有进程：&quot;</span> 
<span class="token function">docker</span> <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><blockquote><p>适用于多模块的构建</p></blockquote> <p><img src="https://typora-oss.yixihan.chat//img/202301071352348.png" alt="image-20230107135211115"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">############################################################################################################</span>
<span class="token comment">###构建命令</span>
<span class="token comment">############################################################################################################</span>
 
    <span class="token builtin class-name">echo</span> <span class="token variable">$JAVA_HOME</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;=============java变量路径:<span class="token variable">$JAVA_HOME</span>&quot;</span> 
    <span class="token comment"># 项目名称, 一般也是项目路径</span>
    <span class="token assign-left variable">PROJECT_LOCATION</span><span class="token operator">=</span>yicode
    <span class="token comment"># 组 ID</span>
    <span class="token assign-left variable">GROUP_ID</span><span class="token operator">=</span>com.yixihan
    <span class="token comment">##############################打包###########################################</span>
    <span class="token comment"># 跳转到源代码目录, 执行 maven 命令 (打包) (需更改 maven 路径)</span>
    <span class="token builtin class-name">cd</span> /var/jenkins_home/workspace/<span class="token variable">${PROJECT_LOCATION}</span>/<span class="token variable">${PROJECT}</span> <span class="token operator">&amp;&amp;</span> /var/jenkins_home/apache-maven-3.8.7/bin/mvn  clean <span class="token function">install</span> <span class="token parameter variable">-am</span> <span class="token parameter variable">-pl</span> <span class="token variable">${GROUP_ID}</span><span class="token builtin class-name">:</span><span class="token variable">${PROJECT}</span> <span class="token parameter variable">-Dmaven.test.skip</span><span class="token operator">=</span>true
    <span class="token comment">############################################################################</span>
    
    <span class="token comment">#############################删除原有镜像,容器################################</span>
    <span class="token assign-left variable">TAG</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span> <span class="token string">&quot;+%Y%m%d&quot;</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">IMAGE_NAME</span><span class="token operator">=</span><span class="token variable">$PROJECT</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;=============查看进程id，然后删除&quot;</span>
    <span class="token comment">#容器id</span>
    <span class="token assign-left variable">cid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token operator">|</span> <span class="token function">grep</span> $IMAGE_NAME <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1}'</span><span class="token variable">)</span></span>
    <span class="token comment">#镜像id</span>
    <span class="token assign-left variable">iid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> $IMAGE_NAME <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span><span class="token variable">)</span></span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$cid</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在容器<span class="token variable">$IMAGE_NAME</span>，cid=<span class="token variable">$cid</span>,删除容器。。。&quot;</span>
      <span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable">$cid</span>
    <span class="token keyword">else</span>
       <span class="token builtin class-name">echo</span> <span class="token string">&quot;不存在<span class="token variable">$IMAGE_NAME</span>容器&quot;</span>
    <span class="token keyword">fi</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$iid</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在镜像<span class="token variable">$IMAGE_NAME</span>，iid=<span class="token variable">$iid</span>,删除容器镜像。。。&quot;</span>
      <span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> <span class="token variable">$iid</span>
    <span class="token keyword">else</span>
       <span class="token builtin class-name">echo</span> <span class="token string">&quot;不存在<span class="token variable">$IMAGE_NAME</span>镜像&quot;</span>
    <span class="token keyword">fi</span> 
    <span class="token comment">############################################################################</span>
 	
    <span class="token comment">###############################构建镜像,运行容器###############################</span>
    <span class="token builtin class-name">cd</span> /var/jenkins_home/workspace/<span class="token variable">${PROJECT_LOCATION}</span>/<span class="token variable">${PROJECT}</span>
    <span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span> <span class="token builtin class-name">.</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;=============开始构建镜像<span class="token variable">$IMAGE_NAME</span>&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前docker 所有镜像：&quot;</span>
    <span class="token function">docker</span> images
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;启动容器-------&gt;&quot;</span>
    <span class="token keyword">case</span> <span class="token variable">$PROJECT</span> <span class="token keyword">in</span>
    	<span class="token string">&quot;yicode-gateway&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">11000</span>:11000 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-auth&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">13100</span>:13100 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-user&quot;</span><span class="token punctuation">)</span>
         	<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">14100</span>:14100 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
		<span class="token string">&quot;yicode-user-openapi&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">14200</span>:14200 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-question&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">15100</span>:15100 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-question-openapi&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">15200</span>:15200 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token string">&quot;yicode-runcode-judge&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">18100</span>:18100 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-runcode-run&quot;</span><span class="token punctuation">)</span>
         	<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">18200</span>:18200 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-thirdpart&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">16100</span>:16100 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-thirdpart-openapi&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">16200</span>:16200 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token string">&quot;yicode-message-producer&quot;</span><span class="token punctuation">)</span>
			<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">17100</span>:17100 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    	<span class="token string">&quot;yicode-message-consumer&quot;</span><span class="token punctuation">)</span>
         	<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">18200</span>:18200 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-m</span> 256m <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>’-Xmx256m’ <span class="token parameter variable">--name</span> <span class="token variable">$IMAGE_NAME</span> <span class="token variable">$IMAGE_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
		*<span class="token punctuation">)</span>
            <span class="token builtin class-name">echo</span> <span class="token string">&quot;error&quot;</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token keyword">esac</span>    
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;启动服务成功&quot;</span>
    <span class="token comment">############################################################################</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;查看启动的所有进程：&quot;</span> 
    <span class="token function">docker</span> <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">2023/1/8 下午8:06:23</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blogs/环境搭建/windows开发环境搭建指南.html">
          windows编程环境搭建
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#基础环境设置" class="sidebar-link reco-side-基础环境设置" data-v-b57cc07c>基础环境设置</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#关闭默认防火墙" class="sidebar-link reco-side-关闭默认防火墙" data-v-b57cc07c>关闭默认防火墙</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#修改-ssh-登录端口号" class="sidebar-link reco-side-修改-ssh-登录端口号" data-v-b57cc07c>修改 ssh 登录端口号</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装所有开发工具" class="sidebar-link reco-side-安装所有开发工具" data-v-b57cc07c>安装所有开发工具</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#jdk安装" class="sidebar-link reco-side-jdk安装" data-v-b57cc07c>JDK安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#卸载默认-jdk" class="sidebar-link reco-side-卸载默认-jdk" data-v-b57cc07c>卸载默认 JDK</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装-jdk" class="sidebar-link reco-side-安装-jdk" data-v-b57cc07c>安装 JDK</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置环境变量" class="sidebar-link reco-side-配置环境变量" data-v-b57cc07c>配置环境变量</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#docker-jdk-构建" class="sidebar-link reco-side-docker-jdk-构建" data-v-b57cc07c>Docker JDK 构建</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#maven-安装" class="sidebar-link reco-side-maven-安装" data-v-b57cc07c>Maven 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#解压" class="sidebar-link reco-side-解压" data-v-b57cc07c>解压</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置配置文件" class="sidebar-link reco-side-配置配置文件" data-v-b57cc07c>配置配置文件</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置环境变量-2" class="sidebar-link reco-side-配置环境变量-2" data-v-b57cc07c>配置环境变量</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#测试是否安装成功" class="sidebar-link reco-side-测试是否安装成功" data-v-b57cc07c>测试是否安装成功</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#gcc-g-安装" class="sidebar-link reco-side-gcc-g-安装" data-v-b57cc07c>GCC &amp; G++ 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#验证是否安装成功" class="sidebar-link reco-side-验证是否安装成功" data-v-b57cc07c>验证是否安装成功</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#python-3-x-安装" class="sidebar-link reco-side-python-3-x-安装" data-v-b57cc07c>Python 3.x 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#解压-2" class="sidebar-link reco-side-解压-2" data-v-b57cc07c>解压</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装模块" class="sidebar-link reco-side-安装模块" data-v-b57cc07c>安装模块</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#编译安装" class="sidebar-link reco-side-编译安装" data-v-b57cc07c>编译安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#检测是否安装成功" class="sidebar-link reco-side-检测是否安装成功" data-v-b57cc07c>检测是否安装成功</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#软件包管理器安装-python" class="sidebar-link reco-side-软件包管理器安装-python" data-v-b57cc07c>软件包管理器安装 Python</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#golang-安装" class="sidebar-link reco-side-golang-安装" data-v-b57cc07c>GoLang 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#解压-3" class="sidebar-link reco-side-解压-3" data-v-b57cc07c>解压</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#编辑环境变量" class="sidebar-link reco-side-编辑环境变量" data-v-b57cc07c>编辑环境变量</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#检测是否安装成功-2" class="sidebar-link reco-side-检测是否安装成功-2" data-v-b57cc07c>检测是否安装成功</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#nodejs-安装" class="sidebar-link reco-side-nodejs-安装" data-v-b57cc07c>NodeJS 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#解压-4" class="sidebar-link reco-side-解压-4" data-v-b57cc07c>解压</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#编译安装-2" class="sidebar-link reco-side-编译安装-2" data-v-b57cc07c>编译安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置环境变量-3" class="sidebar-link reco-side-配置环境变量-3" data-v-b57cc07c>配置环境变量</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#检测是否安装成功-3" class="sidebar-link reco-side-检测是否安装成功-3" data-v-b57cc07c>检测是否安装成功</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#git-安装" class="sidebar-link reco-side-git-安装" data-v-b57cc07c>Git 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#检测是否安装成功-4" class="sidebar-link reco-side-检测是否安装成功-4" data-v-b57cc07c>检测是否安装成功</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置用户名密码" class="sidebar-link reco-side-配置用户名密码" data-v-b57cc07c>配置用户名密码</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置-ssh" class="sidebar-link reco-side-配置-ssh" data-v-b57cc07c>配置 ssh</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#添加-ssh" class="sidebar-link reco-side-添加-ssh" data-v-b57cc07c>添加 ssh</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#docker-安装" class="sidebar-link reco-side-docker-安装" data-v-b57cc07c>Docker 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#检测操作系统版本" class="sidebar-link reco-side-检测操作系统版本" data-v-b57cc07c>检测操作系统版本</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装-gcc" class="sidebar-link reco-side-安装-gcc" data-v-b57cc07c>安装 GCC</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#卸载旧版本" class="sidebar-link reco-side-卸载旧版本" data-v-b57cc07c>卸载旧版本</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装需要的软件包" class="sidebar-link reco-side-安装需要的软件包" data-v-b57cc07c>安装需要的软件包</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#更新yum软件包索引" class="sidebar-link reco-side-更新yum软件包索引" data-v-b57cc07c>更新yum软件包索引</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装docker-ce" class="sidebar-link reco-side-安装docker-ce" data-v-b57cc07c>安装Docker CE</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#启动docker" class="sidebar-link reco-side-启动docker" data-v-b57cc07c>启动docker</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#测试" class="sidebar-link reco-side-测试" data-v-b57cc07c>测试</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#配置镜像加速" class="sidebar-link reco-side-配置镜像加速" data-v-b57cc07c>配置镜像加速</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#卸载" class="sidebar-link reco-side-卸载" data-v-b57cc07c>卸载</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#redis-安装" class="sidebar-link reco-side-redis-安装" data-v-b57cc07c>Redis 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#解压缩" class="sidebar-link reco-side-解压缩" data-v-b57cc07c>解压缩</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装-gcc-2" class="sidebar-link reco-side-安装-gcc-2" data-v-b57cc07c>安装 gcc</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装redis" class="sidebar-link reco-side-安装redis" data-v-b57cc07c>安装redis</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#拷贝redis-config文件" class="sidebar-link reco-side-拷贝redis-config文件" data-v-b57cc07c>拷贝redis.config文件</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#修改redis配置文件" class="sidebar-link reco-side-修改redis配置文件" data-v-b57cc07c>修改redis配置文件</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#启动redis" class="sidebar-link reco-side-启动redis" data-v-b57cc07c>启动redis</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#设置防火墙" class="sidebar-link reco-side-设置防火墙" data-v-b57cc07c>设置防火墙</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#reids-详细配置" class="sidebar-link reco-side-reids-详细配置" data-v-b57cc07c>reids 详细配置</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#docker-搭建-redis-集群" class="sidebar-link reco-side-docker-搭建-redis-集群" data-v-b57cc07c>Docker 搭建 Redis 集群</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#创建-redis-网卡" class="sidebar-link reco-side-创建-redis-网卡" data-v-b57cc07c>创建 redis 网卡</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#创建redis服务" class="sidebar-link reco-side-创建redis服务" data-v-b57cc07c>创建redis服务</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#启动-redis-容器" class="sidebar-link reco-side-启动-redis-容器" data-v-b57cc07c>启动 redis 容器</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#创建-redis-集群" class="sidebar-link reco-side-创建-redis-集群" data-v-b57cc07c>创建 redis 集群</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#查看集群" class="sidebar-link reco-side-查看集群" data-v-b57cc07c>查看集群</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#常用命令" class="sidebar-link reco-side-常用命令" data-v-b57cc07c>常用命令</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#mysql-安装" class="sidebar-link reco-side-mysql-安装" data-v-b57cc07c>MySQL 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#数据库安装" class="sidebar-link reco-side-数据库安装" data-v-b57cc07c>数据库安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#数据库配置" class="sidebar-link reco-side-数据库配置" data-v-b57cc07c>数据库配置</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#mysql-完整配置" class="sidebar-link reco-side-mysql-完整配置" data-v-b57cc07c>MySQL 完整配置</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#rabbitmq-安装" class="sidebar-link reco-side-rabbitmq-安装" data-v-b57cc07c>RabbitMQ 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装-rabbitmq" class="sidebar-link reco-side-安装-rabbitmq" data-v-b57cc07c>安装 RabbitMQ</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#rabbitmq-常用命令" class="sidebar-link reco-side-rabbitmq-常用命令" data-v-b57cc07c>RabbitMQ 常用命令</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#开启-web-管理插件" class="sidebar-link reco-side-开启-web-管理插件" data-v-b57cc07c>开启 web 管理插件</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装延时队列插件" class="sidebar-link reco-side-安装延时队列插件" data-v-b57cc07c>安装延时队列插件</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#nginx-安装" class="sidebar-link reco-side-nginx-安装" data-v-b57cc07c>Nginx 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#环境准备" class="sidebar-link reco-side-环境准备" data-v-b57cc07c>环境准备</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#安装-pcre" class="sidebar-link reco-side-安装-pcre" data-v-b57cc07c>安装 pcre</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#解压-5" class="sidebar-link reco-side-解压-5" data-v-b57cc07c>解压</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#编译安装-3" class="sidebar-link reco-side-编译安装-3" data-v-b57cc07c>编译安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#测试是否安装成功-2" class="sidebar-link reco-side-测试是否安装成功-2" data-v-b57cc07c>测试是否安装成功</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#常用命令-2" class="sidebar-link reco-side-常用命令-2" data-v-b57cc07c>常用命令</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#nacos-安装" class="sidebar-link reco-side-nacos-安装" data-v-b57cc07c>Nacos 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#单机安装" class="sidebar-link reco-side-单机安装" data-v-b57cc07c>单机安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#集群安装" class="sidebar-link reco-side-集群安装" data-v-b57cc07c>集群安装</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#sentinel-docker-搭建" class="sidebar-link reco-side-sentinel-docker-搭建" data-v-b57cc07c>Sentinel docker 搭建</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#dockerfile-2" class="sidebar-link reco-side-dockerfile-2" data-v-b57cc07c>Dockerfile</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#打包-sentinel-镜像" class="sidebar-link reco-side-打包-sentinel-镜像" data-v-b57cc07c>打包 Sentinel 镜像</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#运行-sentinel-镜像" class="sidebar-link reco-side-运行-sentinel-镜像" data-v-b57cc07c>运行 Sentinel 镜像</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#jenkins-搭建" class="sidebar-link reco-side-jenkins-搭建" data-v-b57cc07c>Jenkins 搭建</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#docker-运行-jenkins" class="sidebar-link reco-side-docker-运行-jenkins" data-v-b57cc07c>docker 运行 Jenkins</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#jenkins-镜像配置" class="sidebar-link reco-side-jenkins-镜像配置" data-v-b57cc07c>Jenkins 镜像配置</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#jenkins-配置" class="sidebar-link reco-side-jenkins-配置" data-v-b57cc07c>Jenkins 配置</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97.html#新增-job-应用" class="sidebar-link reco-side-新增-job-应用" data-v-b57cc07c>新增 job - 应用</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.92382283.js" defer></script><script src="/assets/js/3.45d84e5d.js" defer></script><script src="/assets/js/1.9cec7de7.js" defer></script><script src="/assets/js/30.4b00f98b.js" defer></script>
  </body>
</html>
