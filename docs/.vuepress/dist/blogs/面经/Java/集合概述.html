<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java - 集合概述 | 摸鱼小屋</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="花开亦花散">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.387f9a2a.css" as="style"><link rel="preload" href="/assets/js/app.826229b0.js" as="script"><link rel="preload" href="/assets/js/3.45d84e5d.js" as="script"><link rel="preload" href="/assets/js/1.9cec7de7.js" as="script"><link rel="preload" href="/assets/js/35.85232f7c.js" as="script"><link rel="prefetch" href="/assets/js/10.fa7a5c7e.js"><link rel="prefetch" href="/assets/js/11.072d9ab8.js"><link rel="prefetch" href="/assets/js/12.1b56fa07.js"><link rel="prefetch" href="/assets/js/13.a8ea66e3.js"><link rel="prefetch" href="/assets/js/14.71ab951b.js"><link rel="prefetch" href="/assets/js/15.4468d73c.js"><link rel="prefetch" href="/assets/js/16.45dbc2e0.js"><link rel="prefetch" href="/assets/js/17.8052715d.js"><link rel="prefetch" href="/assets/js/18.eb96d1d0.js"><link rel="prefetch" href="/assets/js/19.2056d6c8.js"><link rel="prefetch" href="/assets/js/20.427a3b04.js"><link rel="prefetch" href="/assets/js/21.d75f0dbe.js"><link rel="prefetch" href="/assets/js/22.b24d8812.js"><link rel="prefetch" href="/assets/js/23.9de4c1b2.js"><link rel="prefetch" href="/assets/js/24.b027e09a.js"><link rel="prefetch" href="/assets/js/25.5fd12f6a.js"><link rel="prefetch" href="/assets/js/26.defdd82f.js"><link rel="prefetch" href="/assets/js/27.43958664.js"><link rel="prefetch" href="/assets/js/28.53a76e67.js"><link rel="prefetch" href="/assets/js/29.f8658525.js"><link rel="prefetch" href="/assets/js/30.cfbd4bb4.js"><link rel="prefetch" href="/assets/js/31.110e2ef1.js"><link rel="prefetch" href="/assets/js/32.be30f3bc.js"><link rel="prefetch" href="/assets/js/33.464917c7.js"><link rel="prefetch" href="/assets/js/34.0e476887.js"><link rel="prefetch" href="/assets/js/36.f577e483.js"><link rel="prefetch" href="/assets/js/37.46c99627.js"><link rel="prefetch" href="/assets/js/38.1f238711.js"><link rel="prefetch" href="/assets/js/39.bbdc2657.js"><link rel="prefetch" href="/assets/js/4.03b52a95.js"><link rel="prefetch" href="/assets/js/40.99241900.js"><link rel="prefetch" href="/assets/js/41.cdd20d35.js"><link rel="prefetch" href="/assets/js/42.f52bb17c.js"><link rel="prefetch" href="/assets/js/43.f94ec0cc.js"><link rel="prefetch" href="/assets/js/44.156cf0d2.js"><link rel="prefetch" href="/assets/js/5.aac20725.js"><link rel="prefetch" href="/assets/js/6.67b49f06.js"><link rel="prefetch" href="/assets/js/7.9c2da0a3.js"><link rel="prefetch" href="/assets/js/8.a0f3c5de.js"><link rel="prefetch" href="/assets/js/9.0d9337d1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.387f9a2a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>摸鱼小屋</h3> <p class="description" data-v-59e6cb88>花开亦花散</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>易曦翰</span>
          
        <span data-v-59e6cb88>2022 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/yixihan.png" alt="摸鱼小屋" class="logo"> <span class="site-name">摸鱼小屋</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Go/" class="nav-link"><i class="undefined"></i>
  Go
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/MySQL/" class="nav-link"><i class="undefined"></i>
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/categories/编程环境搭建/" class="nav-link"><i class="undefined"></i>
  编程环境搭建
</a></li><li class="dropdown-item"><!----> <a href="/categories/Nginx/" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/RabbitMQ/" class="nav-link"><i class="undefined"></i>
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/categories/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont icon-gongju"></i>
      工具箱
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xpdf.net/?s" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  PDF转Word
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  在线工具箱
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://openyyy.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  音乐格式转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.shopify.com/tools/logo-maker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  logo 生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://sms-activate.ru/cn/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  虚拟短信接收
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fanyi.phpstudyhelper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  代码变量名称翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/yixihan.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    易曦翰
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>34</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>32</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Go/" class="nav-link"><i class="undefined"></i>
  Go
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/MySQL/" class="nav-link"><i class="undefined"></i>
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/categories/编程环境搭建/" class="nav-link"><i class="undefined"></i>
  编程环境搭建
</a></li><li class="dropdown-item"><!----> <a href="/categories/Nginx/" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/RabbitMQ/" class="nav-link"><i class="undefined"></i>
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/categories/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont icon-gongju"></i>
      工具箱
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xpdf.net/?s" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  PDF转Word
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  在线工具箱
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://openyyy.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  音乐格式转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.shopify.com/tools/logo-maker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  logo 生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://sms-activate.ru/cn/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  虚拟短信接收
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fanyi.phpstudyhelper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  代码变量名称翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yixihan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/blogs/面经/Java/ArrayList源码分析.html" class="sidebar-link">ArrayList - 源码分析</a></li><li><a href="/blogs/面经/Java/HashMap源码分析.html" class="sidebar-link">HashMap - 源码分析</a></li><li><a href="/blogs/面经/Java/LinkedList源码分析.html" class="sidebar-link">LinkedList - 源码分析</a></li><li><a href="/blogs/面经/Java/集合使用注意事项.html" class="sidebar-link">Java - 集合使用注意事项</a></li><li><a href="/blogs/面经/Java/集合概述.html" class="active sidebar-link">Java - 集合概述</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Java - 集合概述</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>易曦翰</span>
          
        <span data-v-59e6cb88>2022 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Java - 集合概述</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>易曦翰</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2022/10/30</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Java</span><span class="tag-item" data-v-8a445198>面经</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="java-集合概述"><a href="#java-集合概述" class="header-anchor">#</a> Java - 集合概述</h1> <h2 id="集合概述"><a href="#集合概述" class="header-anchor">#</a> 集合概述</h2> <h3 id="java-集合概览"><a href="#java-集合概览" class="header-anchor">#</a> Java 集合概览</h3> <p><code>Java</code> <strong>集合</strong>, 也称为 <strong>容器</strong>, 主要是由两大接口派生而来 :</p> <ul><li><code>Collection</code> : 主要用于存放单一元素</li> <li><code>Map</code> : 主要用于存放键值对</li></ul> <p>对于 <code>Collection</code> 接口, 下面又有三个主要的子接口 :</p> <ul><li><code>List</code></li> <li><code>Set</code></li> <li><code>Queue</code></li></ul> <blockquote><p><code>Java</code> 集合框架关系图</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207121410025.png" alt=""></p> <blockquote><p>小贴士</p></blockquote> <p>图中只列举了主要的继承派生关系, 并没有列举所有关系</p> <h3 id="list-set-queue-map-四者的区别"><a href="#list-set-queue-map-四者的区别" class="header-anchor">#</a> List, Set, Queue, Map 四者的区别</h3> <blockquote><p><code>List</code></p></blockquote> <ul><li>存储的元素是有序的, 可重复的</li> <li>是对付顺序的好帮手</li></ul> <blockquote><p><code>Set</code></p></blockquote> <ul><li>存储的元素是无序的, 不可重复的</li> <li>注重独一无二的性质</li></ul> <blockquote><p><code>Queue</code></p></blockquote> <ul><li>按特定的排队规则来确定先后顺序</li> <li>存储的元素是有序的, 可重复的</li> <li>实现排队功能的叫号机</li></ul> <blockquote><p><code>Map</code></p></blockquote> <ul><li>使用键值对 (<code>key-value</code>) 存储</li> <li><code>key</code> 是无序的, 不可重复的, <code>value</code> 是无序的, 可重复的</li> <li>每个键最多映射到一个值</li> <li>用 <code>key</code> 来搜索的专家</li></ul> <h3 id="集合框架底层数据结构总结"><a href="#集合框架底层数据结构总结" class="header-anchor">#</a> 集合框架底层数据结构总结</h3> <h4 id="list"><a href="#list" class="header-anchor">#</a> List</h4> <ul><li><code>ArrayList</code> : <code>Object[]</code> 数组</li> <li><code>Vector</code> : <code>Object[]</code> 数组</li> <li><code>LinkedList</code> : 双向链表
<ul><li><code>JDK 1.6</code> 之前为循环链表</li> <li><code>JDK 1.7</code> 取消了循环</li></ul></li></ul> <h4 id="set"><a href="#set" class="header-anchor">#</a> Set</h4> <ul><li><code>HashSet</code> (无序, 唯一) : 基于 <code>HashMap</code> 实现, 底层采用 <code>HashMap</code> 存储元素</li> <li><code>LinkedHashSet</code> : <code>LinkedHashSet</code> 是 <code>HashSet</code> 的子类, 并且其内部是通过 <code>LinkedHashMap</code> 来实现的</li> <li><code>TreeSet</code> (有序, 唯一) : 红黑树 (自平衡的排序二叉树)</li></ul> <h4 id="queue"><a href="#queue" class="header-anchor">#</a> Queue</h4> <ul><li><code>PriorityQueue</code> : <code>Object[]</code> 数组来实现二叉堆</li> <li><code>ArrayQueue</code> : <code>Object</code> 数组 + 双指针</li></ul> <h4 id="map"><a href="#map" class="header-anchor">#</a> Map</h4> <ul><li><code>HashMap</code> :
<ul><li><code>JDK 1.8</code> 之前由 <strong>数组 + 链表</strong> 组成, 数组是 <code>HashMap</code> 的主体, 链表则是主要为了解决哈希冲突二存在的 (拉链法)</li> <li><code>JDK 1.8</code> 由 <strong>数组 + 链表 / 红黑树</strong> 组成. 当链表长度大于阙值 (默认为 8) 且数组长度大于等于 64, 会将链表转换为红黑树, 减少搜索时间 (如果数组长度小于 64, 则进行数组扩容操作而非将链表转为红黑树)</li></ul></li> <li><code>LinkedHashMap</code> : <code>LinkedHashMap</code> 继承自 <code>HashMap</code>, 底层数据结构由 <strong>数组 + 链表 / 红黑树 + 双向链表</strong> 组成. 双向链表使得 <code>LinkedHashMap</code> 在 <code>HashMap</code> 的结构上 <strong>可以保持插入键值对的顺序</strong>, 同时通过对链表进行对应的操作, 实现了 <strong>访问顺序相关逻辑</strong></li> <li><code>Hashtable</code> : 数组 + 链表组成的, 数组是 <code>Hashtable</code> 的主体, 链表则是主要为了解决哈希冲突存在的</li> <li><code>TreeMap</code> : 红黑树 (自平衡的排序二叉树)</li></ul> <h2 id="collection-list"><a href="#collection-list" class="header-anchor">#</a> Collection - List</h2> <h3 id="arraylist-和-vector-的区别"><a href="#arraylist-和-vector-的区别" class="header-anchor">#</a> ArrayList 和 Vector 的区别</h3> <ul><li><code>ArrayList</code> 是 <code>List</code> 的 <strong>主要实现类</strong>, 底层使用 <code>Object[]</code> 数组, 适用于频繁的查找工作, <strong>线程不安全</strong></li> <li><code>Vector</code> 是<code>List</code> 的 <strong>古老实现类</strong>, 底层使用 <code>Object[]</code> 数组, <strong>线程安全</strong></li></ul> <blockquote><p>小贴士</p></blockquote> <p>即使在需要保障线程安全的场景下, 也不推荐使用 <code>Vector</code>, 也不推荐使用 <code>Collections</code> 工具类里的 <code>synchronizedXxx ()</code> 方法, 而是使用 <code>JUC</code> 包下的并发集合</p> <h3 id="arraylist-和-linkedlist-的区别"><a href="#arraylist-和-linkedlist-的区别" class="header-anchor">#</a> ArrayList 和 LinkedList 的区别</h3> <ul><li><strong>线程是否安全</strong> :
<ul><li><code>ArrayList</code> 是不同步的, <strong>不保证线程安全</strong></li> <li><code>LinkedList</code> 是不同步的, <strong>不保证线程安全</strong></li></ul></li> <li><strong>底层数据机构</strong> :
<ul><li><code>ArrayList</code> 底层采用 <strong><code>Object[]</code> 数组</strong></li> <li><code>LinkedList</code> 底层采用 <strong>双向链表</strong> <ul><li><code>JDK 1.6</code> 之前为循环链表</li> <li><code>JDK 1.7</code> 取消了循环</li></ul></li></ul></li> <li><strong>插入和删除是否受元素位置的影响</strong> :
<ul><li>xxxxxxxxxx2 1Integer[] array = {1, 2, 3};2List<Integer> list = List.of(array);java
<ul><li>执行 <code>add (E e)</code> 的时候, <code>ArrayList</code> 会默认将该元素添加到此列表的末尾, 这种情况的时间复杂度就是 <code>O (1)</code></li> <li>执行 <code>add (int index, E e)</code> 的时候, <code>ArrayList</code> 会将该元素添加到指定位置 <code>index</code>, 这种情况的时间复杂度就是 <code>O (n - index)</code></li></ul></Integer></li> <li><code>LinkedList</code> 采用链表存储, 所以, <strong>如果是在头尾插入和删除元素的时间复杂度不收元素位置的影响</strong>, 但如果是要在指定位置 <code>index</code> 插入和删除元素的话, 时间复杂度近似为 <code>O (n)</code>, 因为需要先移动到指定位置再插入
<ul><li><code>add(E e)</code>, <code>addFirst (E e)</code>, <code>addLast (E e)</code>, <code>removeFirst (E e)</code>, <code>removeLast (E e)</code>, 这些情况时间复杂度近似 <code>O (1)</code></li> <li><code>add (int index, E e)</code>, <code>remove (int index)</code>, 这些情况时间复杂度近似 <code>O (n)</code></li></ul></li></ul></li> <li><strong>是否支持快速随机访问</strong> : 快速随机访问就是通过元素的序号快速获取到元素对象 (对应于 <code>get (int index)</code> 方法)
<ul><li><code>ArrayList</code> 支持</li> <li><code>LinkedList</code> 不支持</li></ul></li> <li><strong>内存空间占用</strong> :
<ul><li><code>ArrayList</code> 的空间浪费主要体现在 <strong><code>List</code> 列表的末尾会预留一定的熔炼空间</strong></li> <li><code>LinkedList</code> 的空间花费主要体现在<strong>它的每一个元素都需要消耗比 <code>ArrayList</code> 更多的空间 (因为要存放直接后继和直接前驱及数据)</strong></li></ul></li></ul> <h4 id="双向链表和双向循环链表"><a href="#双向链表和双向循环链表" class="header-anchor">#</a> 双向链表和双向循环链表</h4> <h5 id="双向链表"><a href="#双向链表" class="header-anchor">#</a> 双向链表</h5> <p><strong>双向链表</strong> : 包含两个指针, 一个 <code>prev</code> 指向前一个节点, 一个 <code>next</code> 指向后一个节点</p> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207121451093.png" alt="双向链表"></p> <h5 id="双向循环链表"><a href="#双向循环链表" class="header-anchor">#</a> 双向循环链表</h5> <p><strong>双向循环链表</strong> : 最后一个节点的 <code>next</code> 指向 <code>head</code>, 而 <code>head</code> 的 <code>prev</code> 指向最后一个节点, 构成一个环</p> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207121452445.png" alt="双向循环链表"></p> <h5 id="详细介绍"><a href="#详细介绍" class="header-anchor">#</a> 详细介绍</h5> <p><a href="https://juejin.cn/post/6844903648154271757" target="_blank" rel="noopener noreferrer">看图轻松理解数据结构与算法系列 (双向链表)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="randomaccess-接口"><a href="#randomaccess-接口" class="header-anchor">#</a> RandomAccess 接口</h4> <blockquote><p>源码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">RandomAccess</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>RandomAccess</code> 接口中什么都没有定义, 在我看来, <code>RandomAccess</code> 接口仅起一个标识的作用, <strong>标识实现这个接口的类具有随机访问的功能</strong></p> <blockquote><p>例子</p></blockquote> <p>在 <code>Collections</code> 类的 <code>binarySearch ()</code> 方法中, 它要判断传入的 <code>List</code> 是否是 <code>RandomAccess</code> 的实例, 如果是, 调用 <code>indexedBinarySearch ()</code> 方法, 如果不是, 调用 <code>iteratorBinarySearch ()</code> 方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span>
    <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">T</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token keyword">instanceof</span> <span class="token class-name">RandomAccess</span> <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token constant">BINARYSEARCH_THRESHOLD</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">indexedBinarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">iteratorBinarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p><code>ArrayList</code> 实现了 <code>RandomAccess</code> 接口, 而 <code>LinkedList</code> 没有实现的原因</p></blockquote> <p>与底层数据结构有关.</p> <p><code>ArrayList</code> 底层是数组, 数组天然支持随机访问, 时间复杂度为 <code>O (1)</code>, 所以称为快速随机访问, 而 <code>LinkedList</code> 底层是链表, 链表需要遍历到特定位置才能访问特定位置的元素, 时间复杂度为 <code>O (n)</code>, 所以不支持快速随机访问.</p> <p><strong><code>RandomAccess</code> 接口只是标识, 并非是因为 <code>ArrayList</code> 实现了 <code>RandomAccess</code> 接口才具有快速随机访问功能的, 而是因为 <code>ArrayList</code> 具有快速随机访问功能才会去实现 <code>RandomAccess</code> 接口</strong></p> <h2 id="collection-set"><a href="#collection-set" class="header-anchor">#</a> Collection - Set</h2> <h3 id="comparable-和-comparator-的区别"><a href="#comparable-和-comparator-的区别" class="header-anchor">#</a> Comparable 和 Comparator 的区别</h3> <ul><li><code>Comparable</code> 接口实际上是出自 <code>java.lang</code> 包下, 它有一个 <code>compareTo (Object obj)</code> 方法用来排序, 也称为 <strong>自然排序</strong></li> <li><code>Comparator</code> 接口实际上是出自 <code>java.util</code> 包下, 它有一个 <code>compare (Object obj1, Object obj2)</code> 方法用来排序, 也称为 <strong>定制排序</strong></li></ul> <p>一般我们需要对应集合使用自定义排序的时候, 我们就要重写 <code>compareTo ()</code> 方法或 <code>compare ()</code> 方法</p> <p>当我们需要对某一集合实现两种排序方式, 比如一个 <code>song</code> 对象中的歌名和歌手名分别采用一种排序方法的话, 我们可以重写 <code>compareTo ()</code> 方法和使用自制的 <code>Comparator</code> 方法或者以两个 <code>Comparator</code> 来实现歌名排序和歌星名排序, 第二种代码我们只能用两个参数版的 <code>Collections.sort ()</code></p> <h4 id="comparator-定制排序"><a href="#comparator-定制排序" class="header-anchor">#</a> Comparator 定制排序</h4> <blockquote><p>代码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> arrayList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;原始数组:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// void reverse(List list)：反转</span>
	<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Collections.reverse(arrayList):&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// void sort(List list),按自然排序的升序排序</span>
	<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Collections.sort(arrayList):&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 定制排序的用法</span>
	<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> o2<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;定制排序后：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><blockquote><p>输出</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>原始数组:
[-1, 3, 3, -5, 7, 4, -9, -7]
Collections.reverse(arrayList):
[-7, -9, 4, 7, -5, 3, 3, -1]
Collections.sort(arrayList):
[-9, -7, -5, -1, 3, 3, 4, 7]
定制排序后：
[7, 4, 3, 3, -1, -5, -7, -9]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="重写-compareto-方法实现按年龄来排序"><a href="#重写-compareto-方法实现按年龄来排序" class="header-anchor">#</a> 重写 compareTo 方法实现按年龄来排序</h4> <blockquote><p>代码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/** 
 * person 对象没有实现 Comparable 接口, 所以必须实现, 这样才不会出错, 才可以使 treemap 中的数据按顺序排列
 *  前面一个例子的 String 类已经默认实现了 Comparable 接口, 详细可以查看 String 类的 API 文档, 另外其他
 *  像 Integer 类等都已经实现了 Comparable 接口, 所以不需要另外实现了
 */</span>
<span class="token keyword">public</span>  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * T重写compareTo方法实现按年龄来排序
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Person</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> o<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&lt;</span> o<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><blockquote><p>测试代码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pdata <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pdata<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pdata<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pdata<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;wangwu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pdata<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小红&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaohong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
	<span class="token comment">// 得到key的值的同时得到key所对应的值</span>
	<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> pdata<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> key <span class="token operator">:</span> keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>输出</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>5-小红
10-王五
20-李四
30-张三
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="无序性和不可重复性的含义是什么"><a href="#无序性和不可重复性的含义是什么" class="header-anchor">#</a> 无序性和不可重复性的含义是什么</h3> <ol><li>什么是 <strong>无序性</strong> ? : 无序性不等于随机性, <strong>无序性是指存储的数据在底层数组中并非按照数组索引的顺序添加, 而是根据数据的哈希值决定的</strong></li> <li>什么是 <strong>不可重复性</strong> ? : <strong>不可重复性是指添加的元素按照 <code>equals ()</code> 判断时, 返回 <code>false</code>, 同时需要重写 <code>equals ()</code> 方法和 <code>HashCode ()</code> 方法</strong></li></ol> <h3 id="比较-hashset-linkedhashset-treeset-三者的异同"><a href="#比较-hashset-linkedhashset-treeset-三者的异同" class="header-anchor">#</a> 比较 HashSet, LinkedHashSet, TreeSet 三者的异同</h3> <ul><li><code>HashSet</code>, <code>LinkedHashSet</code>, <code>TreeSet</code> 都是 <code>Set</code> 接口的实现类, <strong>都能保证元素唯一</strong>, 并且<strong>都不是线程安全的</strong></li> <li><code>HashSet</code>, <code>LinkedHashSet</code>, <code>TreeSet</code> 的主要区别在于<strong>底层数据结构不同</strong> <ul><li><code>HashSet</code> 底层数据结构是 <strong>哈希表</strong>, 基于 <code>HashMap</code> 实现</li> <li><code>LinkedHashSet</code> 底层数据结构是 <strong>哈希表 + 链表</strong>, 元素的插入和取出顺序满足 <code>FIFO</code></li> <li><code>TreeSet</code> 底层数据结构是 <strong>红黑树</strong>, <strong>元素是有序的</strong>, 排序的方式有自然排序和定制排序</li></ul></li> <li>三者的应用场景不同
<ul><li><code>HashSet</code> 用于 <strong>不需要保证元素插入和取出顺序的场景</strong></li> <li><code>LinkedHashSet</code> 用于 <strong>保证元素的插入和取出顺序满足 <code>FIFO</code> 的场景</strong></li> <li><code>TreeSet</code> 用于 <strong>支持元素自定义排序规则的场景</strong></li></ul></li></ul> <h2 id="collection-queue"><a href="#collection-queue" class="header-anchor">#</a> Collection - Queue</h2> <h3 id="queue-和-deque-的区别"><a href="#queue-和-deque-的区别" class="header-anchor">#</a> Queue 和 Deque 的区别</h3> <p><code>Queue</code> 是 <strong>单端队列</strong>, 只能从一端插入元素, 从另一端删除元素, 实现上一般遵循 <strong>先入先出 (<code>FIFO</code>)</strong> 规则</p> <p><code>Queue</code> 扩展了 <code>Collection</code> 的接口, 根据 <strong>因为容量问题而导致操作失败后处理方式的不同</strong>, 可以分为两类方法 :</p> <ul><li>操作失败后会抛出异常</li> <li>操作失败后会返回特殊值</li></ul> <table><thead><tr><th><code>Queue</code> 接口</th> <th>抛出异常</th> <th>返回特殊值</th></tr></thead> <tbody><tr><td>插入队尾</td> <td>add(E e)</td> <td>offer(E e)</td></tr> <tr><td>删除队首</td> <td>remove()</td> <td>poll()</td></tr> <tr><td>查询队首元素</td> <td>element()</td> <td>peek()</td></tr></tbody></table> <p><code>Deque</code> 是 <strong>双端队列</strong>, 在队列的两段均可以插入或删除元素</p> <p><code>Deque</code> 扩展了 <code>Queue</code> 的接口, 增加了再队首和队尾进行插入和删除的方法, 同样根据失败后处理方式的不同分为两类</p> <table><thead><tr><th><code>Deque</code> 接口</th> <th>抛出异常</th> <th>返回特殊值</th></tr></thead> <tbody><tr><td>插入队首</td> <td>addFirst(E e)</td> <td>offerFirst(E e)</td></tr> <tr><td>插入队尾</td> <td>addLast(E e)</td> <td>offerLast(E e)</td></tr> <tr><td>删除队首</td> <td>removeFirst()</td> <td>pollFirst()</td></tr> <tr><td>删除队尾</td> <td>removeLast()</td> <td>pollLast()</td></tr> <tr><td>查询队首元素</td> <td>getFirst()</td> <td>peekFirst()</td></tr> <tr><td>查询队尾元素</td> <td>getLast()</td> <td>peekLast()</td></tr></tbody></table> <p>事实上, <code>Deque</code> 还提供有 <code>push ()</code> 和 <code>pop ()</code> 等其他方法, <strong>可用于模拟栈</strong></p> <h3 id="arraydeque-和-linkedlist-的区别"><a href="#arraydeque-和-linkedlist-的区别" class="header-anchor">#</a> ArrayDeque 和 LinkedList 的区别</h3> <p><code>ArrayDeque</code> 和 <code>LinkedList</code> 都实现了 <code>Deque</code> 接口, 两者都具有队列的功能</p> <ul><li>底层数据结构不同 :
<ul><li><code>ArrayDeque</code> 是 <strong>基于可变长的数组和双指针来实现</strong></li> <li><code>LinkedList</code> 是 <strong>通过链表来实现</strong></li></ul></li> <li>是否支持存储 <code>NULL</code> 数据 :
<ul><li><code>ArrayDeque</code> 不支持存储 <code>NULL</code> 数据</li> <li><code>LinkedList</code> 支持存储 <code>NULL</code> 数据</li></ul></li> <li>引入时间不同 :
<ul><li><code>ArrayDeque</code> 在 <code>JDK 1.6</code> 被引入</li> <li><code>LinkedList</code> 在 <code>JDK 1.2</code> 被引入</li></ul></li> <li>扩容机制不同 :
<ul><li><code>ArrayDeque</code> 插入时可能存在扩容过程, 不过均摊后插入操作时间复杂度依然为 <code>O (1)</code></li> <li><code>LinkedList</code> 不需要扩容, 但是每次插入时均需要申请新的堆空间, 均摊新能更慢</li></ul></li> <li>是否能模拟栈 :
<ul><li><code>ArrayDeque</code> 可以实现栈</li> <li><code>LinkedList</code> 不能实现栈</li></ul></li> <li>性能 : <code>ArrayDeque</code> 要比 <code>LinkedList</code> 更好</li></ul> <h3 id="priorityqueue"><a href="#priorityqueue" class="header-anchor">#</a> PriorityQueue</h3> <p><code>PriorityQueue</code> 是在 <code>JDK 1.5</code> 中被引入的, 其与 <code>Queue</code> 的区别在于 <strong>元素的出队顺序是与优先级相关的</strong>, 即 <strong>总是优先级最高的元素先出队</strong></p> <ul><li><code>PriorityQueue</code> 利用了 <strong>二叉堆</strong> 的数据结构来实现, 底层使用 <strong>可变长的数组</strong> 来存储数据</li> <li><code>PriorityQueue</code> 通过 <strong>堆元素的上浮和下沉</strong>, <strong>实现了在 <code>O (logn)</code> 的时间复杂度内插入和删除堆顶元素</strong></li> <li><code>PriorityQueue</code> 是 <strong>非线程安全的</strong>, 且 <strong>不支持存储 <code>NULL</code> 和 <code>non-comparable</code> 的对象</strong></li> <li><code>PriorityQueue</code> 默认是 <strong>小顶堆</strong>, 但可以接收一个 <code>Comparator</code> 作为构造参数, 从而来自定义元素优先级的先后</li></ul> <h2 id="map-接口"><a href="#map-接口" class="header-anchor">#</a> Map 接口</h2> <h3 id="hashmap-和-hashtable-的区别"><a href="#hashmap-和-hashtable-的区别" class="header-anchor">#</a> HashMap 和 Hashtable 的区别</h3> <ul><li><strong>线程是否安全</strong> :
<ul><li><code>HashMap</code> 是 <strong>非线程安全的</strong></li> <li><code>Hashtable</code> 是 <strong>线程安全的</strong>, 因为 <code>Hashtable</code> 内部的方法基本都经过 <code>synchronize</code> 修饰</li></ul></li> <li><strong>效率</strong> :<code>HashMap</code> 的效率比 <code>Hashtable</code> 高</li> <li><strong>对 <code>null key</code> 和 <code>null value</code> 的支持</strong> :
<ul><li><code>HashMap</code> 可以存储 <code>null key</code> 和 <code>null value</code>, 但是 <code>**null</code> 作为键只能有一个, <code>null</code> 作为值可以有多个**</li> <li><code>Hashtable</code> 不允许有 <code>null</code> 键和 <code>null</code> 值, 否则会抛出 <code>NPE</code> (<code>NullPointerException</code>)</li></ul></li> <li><strong>初始容量大小和每次扩容容量大小的不同</strong> :
<ul><li><code>HashMap</code> <ul><li>创建时如果不指定容量初始值, 则默认大小为 16. 之后每次扩容, 容量变为原来的 2 倍.</li> <li>创建时如果给定了容量初始值, 则 <code>HashMap</code> 会将其扩充为 2 的幂次方大小 (<code>HashMap</code> 的 <code>tableSizeFor ()</code> 方法保证). 也就是说, <strong><code>HashMap</code> 总是使用 2 的幂作为哈希表的大小</strong></li></ul></li> <li><code>Hashtable</code> <ul><li>创建时如果不指定容量初始值, 则默认大小为 11. 之后每次扩容, 容量变为原来的 2n + 1.</li> <li>创建时如果给定了容量初始值, 则 <code>Hashtable</code> 会直接使用你给定的初始值.</li></ul></li></ul></li> <li><strong>底层数据结构</strong> :
<ul><li><code>HashMap</code> <ul><li><code>JDK 1.8</code> 之前, <code>HashMap</code> 底层数据结构是 <strong>数组 + 链表</strong></li> <li><code>JDK 1.8</code> , <code>HashMap</code> 底层数据结构是 <strong>数组 + 链表 / 红黑树</strong></li></ul></li> <li><code>Hashtable</code> 底层数据结构是 <strong>数组 + 链表</strong></li></ul></li></ul> <blockquote><p>HashMap 中带有初始容量的构造函数</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialCapacity<span class="token punctuation">,</span> <span class="token keyword">float</span> loadFactor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>initialCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;Illegal initial capacity: &quot;</span> <span class="token operator">+</span>
										   initialCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>initialCapacity <span class="token operator">&gt;</span> <span class="token constant">MAXIMUM_CAPACITY</span><span class="token punctuation">)</span>
		initialCapacity <span class="token operator">=</span> <span class="token constant">MAXIMUM_CAPACITY</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>loadFactor <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token class-name">Float</span><span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>loadFactor<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;Illegal load factor: &quot;</span> <span class="token operator">+</span>
										   loadFactor<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>loadFactor <span class="token operator">=</span> loadFactor<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>threshold <span class="token operator">=</span> <span class="token function">tableSizeFor</span><span class="token punctuation">(</span>initialCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">(</span>initialCapacity<span class="token punctuation">,</span> <span class="token constant">DEFAULT_LOAD_FACTOR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p><code>tableSizeFor ()</code> 方法 (用于保证 <code>HashMap</code> 总是使用 2 的幂作为哈希表的大小</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">tableSizeFor</span><span class="token punctuation">(</span><span class="token keyword">int</span> cap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> cap <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	n <span class="token operator">|=</span> n <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
	n <span class="token operator">|=</span> n <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
	n <span class="token operator">|=</span> n <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">4</span><span class="token punctuation">;</span>
	n <span class="token operator">|=</span> n <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">8</span><span class="token punctuation">;</span>
	n <span class="token operator">|=</span> n <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;=</span> <span class="token constant">MAXIMUM_CAPACITY</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">MAXIMUM_CAPACITY</span> <span class="token operator">:</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="hashmap-和-hashset-的区别"><a href="#hashmap-和-hashset-的区别" class="header-anchor">#</a> HashMap 和 HashSet 的区别</h3> <p><strong><code>HashSet</code>  的底层就是基于<code>HashMap</code> 实现的</strong></p> <p><code>HashSet</code> 的源码非常少, 除了 <code>clone ()</code>, <code>writeObject ()</code>, <code>readObject ()</code> 是 <code>HashSet</code> 自己不得不实现之外, 其他方法都是直接调用 <code>HashMap</code> 中的方法</p> <ul><li><strong>实现接口不同</strong> :
<ul><li><code>HashMap</code> 实现了 <code>Map</code> 接口</li> <li><code>HashSet</code> 实现了 <code>Set</code> 接口</li></ul></li> <li><strong>存储元素格式不同</strong> :
<ul><li><code>HashMap</code> 存储 <strong>键值对</strong></li> <li><code>HashSet</code> 存储 <strong>对象</strong></li></ul></li> <li><strong>添加元素方式不同</strong> :
<ul><li><code>HashMap</code> 通过调用 <code>put ()</code> 添加数据</li> <li><code>HashSet</code> 通过调用 <code>add ()</code> 添加数据. 数据添加成功则返回 <code>true</code>, 数据添加失败则返回 <code>false</code></li></ul></li> <li><strong>计算 <code>hashcode</code> 方式不同</strong> :
<ul><li><code>HashMap</code> 使用 <code>key</code> 计算 <code>hashcode</code></li> <li><code>HashSet</code> 使用成员对象来计算 <code>hashcode</code></li></ul></li></ul> <h3 id="hashmap-和-treemap-的区别"><a href="#hashmap-和-treemap-的区别" class="header-anchor">#</a> HashMap 和 TreeMap 的区别</h3> <p><code>TreeMap</code> 和 <code>HashMap</code> 都继承自 <code>AbstractMap</code>, 但 <code>TreeMap</code> 还实现了 <code>NavigableMap</code> 接口和 <code>SortedMap</code> 接口</p> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/20220712165347.png" alt=""></p> <p>实现 <code>NavigableMap</code> 接口让 <code>TreeMap</code> 有了 <strong>对集合内元素的搜索的能力</strong></p> <p>实现 <code>SortedMap</code> 接口让 <code>TreeMap</code> 有了 <strong>对集合内的元素根据键排序的能力</strong>. 默认是按 <code>key</code> 的升序排序, 也可以指定排序的比较器</p> <blockquote><p>例子</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 实现方式一 : 匿名内部类</span>
        <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> treeMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person1<span class="token punctuation">,</span> <span class="token class-name">Person</span> person2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> num <span class="token operator">=</span> person1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> person2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 实现方式二 : Lambda</span>
        <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> treeMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>person1<span class="token punctuation">,</span> person2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  			<span class="token keyword">int</span> num <span class="token operator">=</span> person1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> person2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  			<span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;person1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;person2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;person3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;person4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeMap<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>personStringEntry <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personStringEntry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><blockquote><p>输出</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>person1
person4
person2
person3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可以看出, <code>TreeMap</code> 中的元素已经是按照 <code>Person</code> 的 <code>age</code> 字段的升序来排列了</p> <p>综上, <strong>相比于 <code>HashMap</code> 来说, <code>TreeMap</code> 主要多了对集合中的元素根据键排序的能力以及对集合内部元素的搜索的能力</strong></p> <h3 id="hashset-如何查重"><a href="#hashset-如何查重" class="header-anchor">#</a> HashSet 如何查重</h3> <p>当你把对象加入 <code>HashSet</code> 时, <code>HashSet</code> 会 <strong>先计算对象的 <code>hashcode</code> 值来判断对象加入的位置</strong>, 同时也会与其他加入的对象的 <code>hashcode</code> 值作比较, 如果没有相符的 <code>hashcode</code>, <code>HashSet</code> 会假设对象没有重复出现. 但是如果发现有相同的 <code>hashcode</code> 值的对象, 这时会调用 <code>equals ()</code> 方法来检查 <code>hashcode</code> 相等的对象是否真的相同. 如果两者相同, <code>HashSet</code> 就不会让加入操作成功</p> <blockquote><p><code>HashSet</code> 的 <code>add ()</code> 方法</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 返回值 : true if this set did not already contain the specified element</span>
<span class="token comment">// 返回值 : 当set中没有包含add的元素时返回真</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token constant">PRESENT</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><code>HashMap</code> 的 <code>putVal ()</code> 方法</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 返回值 : previous value, or null if none</span>
<span class="token comment">// 返回值 ： 如果插入位置没有元素返回null，否则返回上一个元素</span>
<span class="token keyword">final</span> <span class="token class-name">V</span> <span class="token function">putVal</span><span class="token punctuation">(</span><span class="token keyword">int</span> hash<span class="token punctuation">,</span> <span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">,</span> <span class="token keyword">boolean</span> onlyIfAbsent<span class="token punctuation">,</span>
                   <span class="token keyword">boolean</span> evict<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也就是说实际上, 无论 <code>HashSet</code> 中是否已经存在了某元素, <code>HashSet</code> 都会直接插入, 只是会在 <code>add ()</code> 方法的返回值中告诉我们插入前是否存在相同元素</p> <h4 id="hashcode-方法和-equals-方法的相关规定"><a href="#hashcode-方法和-equals-方法的相关规定" class="header-anchor">#</a> hashCode () 方法和 equals () 方法的相关规定</h4> <ol><li>如果两个对象相等, 则 <code>hashcode</code> 一定也是相同的</li> <li>如果两个对象相等, 则 <code>equals ()</code> 方法返回 <code>true</code></li> <li>如果两个对象有相同的 <code>hashcode</code> 值, 它们也不一定是相等的</li> <li><code>equals ()</code> 方法被覆盖时, <code>hashcode ()</code> 方法也必须被覆盖</li> <li><code>hashCode ()</code> 的默认行为是对堆上的对象产生独特值. 如果没有重写 <code>hashCode ()</code>, 则该 <code>class</code> 的两个对象无论如何都不会相等, 即使这两个对象指向相同的数据</li></ol> <h4 id="与-equals-的区别"><a href="#与-equals-的区别" class="header-anchor">#</a> == 与 equals () 的区别</h4> <ul><li>对于基本数据类型, <code>==</code> 比较的是 <strong>值是否相等</strong></li> <li>对于引用数据类型, <code>==</code> 比较的是 <strong>两个引用是否指向同一对象地址</strong> (两者在内存中存放的地址 (堆内存地址) 是否指向同一个地方)</li> <li>对于引用数据类型 (包括包装类型), 如果 <code>equals ()</code> 方法没有被覆盖, 对比的就是它们的地址是否相等; 如果 <code>equals ()</code> 方法被重写, 则比较的是地址内的内容</li></ul> <h3 id="hashmap-的底层实现"><a href="#hashmap-的底层实现" class="header-anchor">#</a> HashMap 的底层实现</h3> <h4 id="jdk-1-8-之前"><a href="#jdk-1-8-之前" class="header-anchor">#</a> JDK 1.8 之前</h4> <h5 id="底层数据结构"><a href="#底层数据结构" class="header-anchor">#</a> 底层数据结构</h5> <p><code>JDK 1.8</code> 之前 <code>HashMap</code> 底层是 <strong>数据 + 链表</strong> 结合在一起, 也就是 <strong>链表散列</strong>.</p> <p>数组是 <code>HashMap</code> 的主体, 而链表主要是为了解决哈希冲突而存在的 (拉链法)</p> <blockquote><p>示图</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207141500220.png" alt="JDK1.7中HashMap的数据结构"></p> <h5 id="元素存放位置的判断"><a href="#元素存放位置的判断" class="header-anchor">#</a> 元素存放位置的判断</h5> <p><code>HashMap</code> 通过 <code>key</code> 的 <code>hashcode</code> 经过扰动函数处理后得到 <code>hash</code> 值</p> <p>然后 <code>HashMap</code> 通过公式 <code>(n - 1) &amp; hash</code> 判断当前元素的存放位置 (<code>n</code> : 数组的长度, <code>hash</code> : 当前元素的哈希值)</p> <ul><li>如果计算出的位置不存在元素的话, 则直接存入到计算位置</li> <li>如果计算出的位置存在元素的话, 就判断该元素与要存入的元素的 <code>hash</code> 值是否相等
<ul><li>如果不相同, 则通过 <strong>拉链法</strong> 解决冲突 (<strong>头插法插入链表, 即最新插入的元素在链头</strong>)</li> <li>如果相同, 则调用 <code>equal ()</code> 方法判断两个 <code>key</code> 是否真的相同
<ul><li>如果不同, 则通过 <strong>拉链法</strong> 解决冲突</li> <li>如果相同, 直接 <strong>覆盖</strong></li></ul></li></ul></li></ul> <h5 id="扰动函数"><a href="#扰动函数" class="header-anchor">#</a> 扰动函数</h5> <p>扰动函数就是 <code>HashMap</code> 的 <code>hash ()</code> 方法</p> <p>使用 <code>hash ()</code> 主要是为了防止一些实现比较差的 <code>hashCode ()</code> 方法 (<strong>使用扰动函数后可以减少碰撞</strong>)</p> <p><code>JDK 1.8</code> 之前的扰动函数扰动了 4 次, 比起 <code>JDK 1.8</code> 的扰动函数, 性能会差一些</p> <blockquote><p>源码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">hash</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// This function ensures that hashCodes that differ only by</span>
    <span class="token comment">// constant multiples at each bit position have a bounded</span>
    <span class="token comment">// number of collisions (approximately 8 at default load factor).</span>

    h <span class="token operator">^=</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> h <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="拉链法"><a href="#拉链法" class="header-anchor">#</a> 拉链法</h5> <p>拉链法 : 将链表和数组相结合</p> <p>也就是说创建一个链表数组, 数组中每一格就是一个链表. 若遇到哈希冲突, 则将冲突的值加到链表中即可</p> <blockquote><p>示图</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207141500238.png" alt=""></p> <h4 id="jdk-1-8"><a href="#jdk-1-8" class="header-anchor">#</a> JDK 1.8</h4> <h5 id="底层数据结构-2"><a href="#底层数据结构-2" class="header-anchor">#</a> 底层数据结构</h5> <p><code>JDK 1.8</code> 中 <code>HashMap</code> 底层是 <strong>数据 + 链表 / 红黑树</strong> 结合在一起</p> <p>当链表长度大于阙值 (默认为 8), 且数组长度大于等于 64 时, 会将链表转为红黑树, 减少搜索时间</p> <p>当链表长度大于阙值 (默认为 8), 但数组长度小于 64 时, 则不会将链表转为红黑树, 而是进行数组扩容</p> <blockquote><p>示图</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207141500245.png" alt=""></p> <blockquote><p>小贴士</p></blockquote> <p><code>TreeMap</code>, <code>TreeSet</code> 以及 <code>JDK1.8</code> 之后的 <code>HashMap</code> 底层都用到了红黑树</p> <p>红黑树就是为了解决二叉查找树的缺陷, 因为二叉查找树在某些情况下会退化成一个线性结构</p> <h5 id="扰动函数-2"><a href="#扰动函数-2" class="header-anchor">#</a> 扰动函数</h5> <p><code>JDK 1.8</code> 更新了扰动函数, 相较于 <code>JDK 1.8</code> 之前的扰动函数, 性能更好</p> <p>主体思路 : <strong><code>hashcode</code> 值无符号右移 16 位后再亦或 <code>hashcode</code> 值</strong></p> <blockquote><p>源码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">hash</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> h<span class="token punctuation">;</span>
    <span class="token comment">// key.hashCode()：返回散列值也就是hashcode</span>
    <span class="token comment">// ^ ：按位异或</span>
    <span class="token comment">// &gt;&gt;&gt;:无符号右移，忽略符号位，空位都以0补齐</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token punctuation">(</span>h <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="hashmap-的长度为什么是-2-的幂次方"><a href="#hashmap-的长度为什么是-2-的幂次方" class="header-anchor">#</a> HashMap 的长度为什么是 2 的幂次方</h3> <p>为了能让 <code>HashMap</code> 存取高效, 尽量较少碰撞, 也就是要尽量把数据分配均匀.</p> <p><code>Hash</code> 值的范围值 -2147483648 到 2147483647, 前后加起来大概 40 亿的映射空间, 只要哈希函数映射得比较均匀松散, 一般应用是很难出现碰撞的. 但问题是一个 40 亿长度的数组, 内存是放不下的. 所以这个散列值是不能直接拿来用的. 用之前还要先做对数组的长度取模运算, 得到的余数才能用来要存放的位置也就是对应的数组下标.</p> <p>这个数组下标的计算方法是 <code>(n - 1) &amp; hash</code> (n 代表数组长度) 这也就解释了 <code>HashMap</code> 的长度为什么是 2 的幂次方</p> <h4 id="算法设计"><a href="#算法设计" class="header-anchor">#</a> 算法设计</h4> <blockquote><p>思路原因</p></blockquote> <p><strong>取余 (<code>%</code>) 操作中如果除数是 2 的幂次则等价于其余数减一的与 (<code>&amp;</code>) 操作</strong></p> <blockquote><p>前提</p></blockquote> <p><code>hash % n == hash &amp; (n - 1)</code> 的前提是 <code>n</code> 是 2 的 <code>n</code> 次方. (<code>n</code> 为数组长度)</p> <blockquote><p>采用与操作的原因</p></blockquote> <p><strong>并且采用二进制操作与 (<code>&amp;</code>), 相对于取余 (<code>%</code>) 操作能提高运算效率</strong></p> <h3 id="hashmap-多线程操作导致死循环问题"><a href="#hashmap-多线程操作导致死循环问题" class="header-anchor">#</a> HashMap 多线程操作导致死循环问题</h3> <p>主要原因在于并发下的 <code>Rehash</code> 会造成元素之间会形成一个循环链表.</p> <p>不过, <code>JDK 1.8</code> 后解决了这个问题, 但是还是不建议在多线程下使用 <code>HashMap</code>, 因为多线程下使用 <code>HashMap</code> 还是会存在其他问题比如 <strong>数据丢失</strong>.</p> <p>并发环境下推荐使用 <code>ConcurrentHashMap</code></p> <blockquote><p>详细案例</p></blockquote> <p><a href="https://coolshell.cn/articles/9606.html" target="_blank" rel="noopener noreferrer">疫苗：JAVA HASHMAP的死循环<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="hashmap-常见的几种遍历方式"><a href="#hashmap-常见的几种遍历方式" class="header-anchor">#</a> HashMap 常见的几种遍历方式</h3> <blockquote><p>原文</p></blockquote> <p><a href="https://mp.weixin.qq.com/s/zQBN3UvJDhRTKP6SzcZFKw" target="_blank" rel="noopener noreferrer">HashMap 的 7 种遍历方式与性能分析！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="遍历方式分类"><a href="#遍历方式分类" class="header-anchor">#</a> 遍历方式分类</h4> <p><code>HashMap</code> 遍历从大的方向来说, 可以分为 4 类 :</p> <ul><li>迭代器 (<code>Iterator</code>) 方式遍历</li> <li><code>For Each</code> 方式遍历</li> <li><code>Lambda</code> 方式遍历  (<code>JDK 1.8</code>)</li> <li><code>Stream API</code> 方式遍历 (<code>JDK 1.8</code>)</li></ul> <p>具体的遍历方式有七种 :</p> <ul><li>使用迭代器 (<code>Iterator</code>) <code>EntrySet</code> 的方式遍历</li> <li>使用迭代器 (<code>Iterator</code>) <code>KeySet</code> 的方式遍历</li> <li>使用 <code>For Each EntrySet</code> 的方式遍历</li> <li>使用 <code>For Each KeySet</code> 的方式遍历</li> <li>使用 <code>Lambda</code> 的方式遍历</li> <li>使用 <code>Stream API</code> 单线程的方式进行遍历</li> <li>使用 <code>Stream API</code> 多线程的方式进行遍历</li></ul> <h4 id="具体遍历方式实现代码"><a href="#具体遍历方式实现代码" class="header-anchor">#</a> 具体遍历方式实现代码</h4> <h5 id="迭代器-entryset"><a href="#迭代器-entryset" class="header-anchor">#</a> 迭代器 EntrySet</h5> <blockquote><p>代码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h5 id="迭代器-keyset"><a href="#迭代器-keyset" class="header-anchor">#</a> 迭代器 KeySet</h5> <blockquote><p>代码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Integer</span> key <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h5 id="foreach-entryset"><a href="#foreach-entryset" class="header-anchor">#</a> ForEach EntrySet</h5> <blockquote><p>代码</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="foreach-keyset"><a href="#foreach-keyset" class="header-anchor">#</a> ForEach KeySet</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> key <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="lambda"><a href="#lambda" class="header-anchor">#</a> Lambda</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="streams-api-单线程"><a href="#streams-api-单线程" class="header-anchor">#</a> Streams API 单线程</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="streams-api-多线程"><a href="#streams-api-多线程" class="header-anchor">#</a> Streams API 多线程</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建并赋值 HashMap</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;JDK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;MyBatis framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Java中文社群&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="性能分析"><a href="#性能分析" class="header-anchor">#</a> 性能分析</h4> <blockquote><p>结果</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207131435092.png" alt="图片"></p> <blockquote><p>结论</p></blockquote> <ul><li><code>EntrySet</code> 的性能比 <code>KeySet</code> 的性能高出一倍多</li> <li>使用迭代器或是 <code>for</code> 循环遍历 <code>EntrySet</code> 时, 性能是相同的</li> <li>使用迭代器或是 <code>for</code> 循环遍历 <code>KeySet</code> 时, 性能是相同的</li></ul> <blockquote><p><code>EntrySet</code> 的性能比 <code>KeySet</code> 的性能高的原因</p></blockquote> <p><code>EntrySet</code> 之所以比 <code>KeySet</code> 的性能高是因为, <code>KeySet</code> 在循环时使用了 <code>map.get(key)</code>, 而 <code>map.get(key)</code> 相当于又遍历了一遍 <code>Map</code> 集合去查询 <code>key</code> 所对应的值. 为什么要用 &quot;又&quot; 这个词? 那是因为 <strong>在使用迭代器或者 <code>for</code> 循环时, 其实已经遍历了一遍 <code>Map</code> 集合了, 因此再使用 <code>map.get(key)</code> 查询时, 相当于遍历了两遍</strong></p> <p>而 <code>EntrySet</code> 只遍历了一遍 Map 集合, 之后通过代码 <code>Entry&lt;Integer, String&gt; entry = iterator.next()</code> 把对象的 <code>key</code> 和 <code>value</code> 值都放入到了 <code>Entry</code> 对象中, 因此再获取 <code>key</code> 和 <code>value</code> 值时就无需再遍历 <code>Map</code> 集合, 只需要从 <code>Entry</code> 对象中取值就可以了</p> <p>所以, <strong><code>EntrySet</code> 的性能比 <code>KeySet</code> 的性能高出了一倍, 因为 <code>KeySet</code> 相当于循环了两遍 <code>Map</code> 集合, 而 <code>EntrySet</code> 只循环了一遍</strong></p> <h4 id="安全性测试"><a href="#安全性测试" class="header-anchor">#</a> 安全性测试</h4> <blockquote><p>结论</p></blockquote> <ul><li><strong>迭代器中循环删除数据安全</strong></li> <li><strong>For 循环中删除数据非安全</strong></li> <li><strong>Lambda 循环中删除数据非安全</strong></li> <li><strong>Stream 循环中删除数据非安全</strong></li></ul> <blockquote><p>小结</p></blockquote> <p>我们不能在遍历中使用集合 <code>map.remove()</code> 来删除数据, 这是非安全的操作方式, 但我们可以使用迭代器的 <code>iterator.remove()</code> 的方法来删除数据, 这是安全的删除集合的方式. 同样的我们也可以使用 <code>Lambda</code> 中的 <code>removeIf ()</code> 来提前删除数据, 或者是使用 <code>Stream</code> 中的 <code>filter ()</code> 过滤掉要删除的数据进行循环, 这样都是安全的, 当然我们也可以在 <code>for</code> 循环前删除数据在遍历也是线程安全的</p> <blockquote><p><code>Lambda</code> 正确删除方式</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 根据 map 中的 key 去判断删除</span>
map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>key <span class="token operator">-&gt;</span> key <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show:&quot;</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><code>Stream</code> 正确删除方式</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>m <span class="token operator">-&gt;</span> <span class="token number">1</span> <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;del:&quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show:&quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="concurrenthashmap-和-hashtable-的区别"><a href="#concurrenthashmap-和-hashtable-的区别" class="header-anchor">#</a> ConcurrentHashMap 和 Hashtable 的区别</h3> <p><code>ConcurrentHashMap</code> 和 <code>Hashtable</code> 的区别主要体现在实现线程安全的方式上不同</p> <ul><li><strong>底层数据结构</strong> :
<ul><li><code>ConcurrentHashMap</code> 底层在 <code>JDK 1.7</code> 采用 <strong>分段的数组 + 链表</strong> 实现, 在 <code>JDK 1.8</code> 采用 <strong>数组 + 链表 / 红黑树</strong> 实现</li> <li><code>Hashtable</code> 底层采用 <strong>数组 + 链表</strong> 实现. 数组是 <code>Hashtable</code> 的主体, 链表则是主要为了解决哈希冲突存在的</li></ul></li> <li><strong>实现线程安全的方式</strong> :
<ul><li><code>ConcurrentHashMap</code> <ul><li><code>JDK 1.7</code> 的时候, <strong><code>ConcurrentHashMap</code> (分段锁) 对整个桶数组进行了分割分段 (<code>segment</code>), 每一把锁只锁容器的其中一部分数据</strong>, 多线程访问容器内不同数据段的数据, 就不会存在锁竞争, 提高并发访问率</li> <li><code>JDK 1.8</code> 的时候, <strong><code>ConcurrentHashMap</code> 摒弃了 <code>Segment</code> 概念, 而是直接用 <code>Node</code> 数组 + 链表 / 红黑树 的数据结构来实现, 并发控制使用 <code>synchronize</code> 和 <code>CAS</code> 操作</strong>. 整个看起来就像优化过且线程安全的 <code>HashMap</code></li></ul></li> <li><code>Hashtable</code> (同一把锁) : 使用 <code>synchronize</code> 来保证线程安全, 因为只有一把锁, 同一时刻只能有一个线程工作, 所以效率非常低下.</li></ul></li></ul> <blockquote><p><code>Hashtable</code> 原理图</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207131452186.png" alt="Hashtable全表锁"></p> <blockquote><p>JDK 1.7 的 <code>ConcurrentHashMap</code></p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207131453478.jpeg" alt="JDK1.7的ConcurrentHashMap"></p> <blockquote><p><code>JDK 1.8</code> 的 <code>ConcurrentHashMap</code></p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/202207131453935.png" alt="Java8 ConcurrentHashMap 存储结构（图片来自 javadoop）"></p> <p><code>JDK1.8</code> 的 <code>ConcurrentHashMap</code> 不再是 <strong><code>Segment</code> 数组 + <code>HashEntry</code> 数组 + 链表</strong>, 而是 <strong><code>Node</code> 数组 + 链表 / 红黑树</strong></p> <p>不过, <code>Node</code> 只能用于链表的情况, 红黑树的情况需要使用 <strong><code>TreeNode</code></strong>. 当冲突链表达到一定长度时, 链表会转换成红黑树</p> <h2 id="collections-工具类"><a href="#collections-工具类" class="header-anchor">#</a> Collections 工具类</h2> <p>Collections 工具类常用方法 :</p> <ul><li>排序</li> <li>查找, 替换操作</li> <li>同步控制 (不推荐)</li></ul> <blockquote><p>Collections 内部结构</p></blockquote> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/image-20220712170603819.png" alt="image-20220712170603819"></p> <p><img src="https://typora-photo-yixihan.oss-cn-chengdu.aliyuncs.com/img/image-20220712170446628.png" alt="image-20220712170446628"></p> <h3 id="排序操作"><a href="#排序操作" class="header-anchor">#</a> 排序操作</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 反转</span>
<span class="token keyword">void</span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">)</span>
<span class="token comment">// 随机排序</span>
<span class="token keyword">void</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">)</span>
<span class="token comment">// 按自然排序的升序排序</span>
<span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">)</span>
<span class="token comment">// 定制排序, 由 Comparator 控制排序逻辑</span>
<span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token class-name">Comparator</span> c<span class="token punctuation">)</span>
<span class="token comment">// 交换两个索引位置的元素</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> i <span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span>
<span class="token comment">// 旋转. </span>
<span class="token comment">// 当 distance 为正数时, 将 list 后 distance 个元素整体移到前面</span>
<span class="token comment">// 当 distance 为负数时, 将 list 的前 distance 个元素整体移到后面</span>
<span class="token keyword">void</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> distance<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="查找-替换操作"><a href="#查找-替换操作" class="header-anchor">#</a> 查找, 替换操作</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 对 List 进行二分查找, 返回索引, 注意 List 必须是有序的</span>
<span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token class-name">Object</span> key<span class="token punctuation">)</span>
<span class="token comment">// 根据元素的自然顺序, 返回最大的元素</span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> coll<span class="token punctuation">)</span>
<span class="token comment">// 根据元素的自然顺序, 返回最小的元素</span>
<span class="token keyword">int</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> coll<span class="token punctuation">)</span>
<span class="token comment">// 根据定制排序, 返回最大元素, 排序规则由 Comparatator 类控制</span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> coll<span class="token punctuation">,</span> <span class="token class-name">Comparator</span> c<span class="token punctuation">)</span>
<span class="token comment">// 根据定制排序, 返回最大元素, 排序规则由 Comparatator 类控制</span>
<span class="token keyword">int</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> coll<span class="token punctuation">,</span> <span class="token class-name">Comparator</span> c<span class="token punctuation">)</span>
<span class="token comment">// 用指定的元素代替指定 list 中的所有元素</span>
<span class="token keyword">void</span> <span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">)</span>
<span class="token comment">// 统计元素出现次数</span>
<span class="token keyword">int</span> <span class="token function">frequency</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> c<span class="token punctuation">,</span> <span class="token class-name">Object</span> o<span class="token punctuation">)</span>
<span class="token comment">// 统计 target 在 list 中第一次出现的索引, 找不到则返回 -1</span>
<span class="token keyword">int</span> <span class="token function">indexOfSubList</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token class-name">List</span> target<span class="token punctuation">)</span>
<span class="token comment">// 统计 target 在 list 中最后一次出现的索引, 找不到则返回 -1</span>
<span class="token keyword">int</span> <span class="token function">lastIndexOfSubList</span><span class="token punctuation">(</span><span class="token class-name">List</span> source<span class="token punctuation">,</span> list target<span class="token punctuation">)</span>
<span class="token comment">// 用新元素替换旧元素</span>
<span class="token keyword">boolean</span> <span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token class-name">List</span> list<span class="token punctuation">,</span> <span class="token class-name">Object</span> oldVal<span class="token punctuation">,</span> <span class="token class-name">Object</span> newVal<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="同步控制"><a href="#同步控制" class="header-anchor">#</a> 同步控制</h3> <p><code>Collections</code> 提供了多个 <code>synchronizedXxx()</code> 方法·, 该方法可以将指定集合包装成线程同步的集合, 从而解决多线程并发访问集合时的线程安全问题</p> <p>我们知道 <code>HashSet</code>, <code>TreeSet</code>, <code>ArrayList</code>, <code>LinkedList</code>, <code>HashMap</code>, <code>TreeMap</code> 都是线程不安全的. <code>Collections</code> 提供了多个静态方法可以把他们包装成线程同步的集合</p> <p><strong>最好不要用下面这些方法, 效率非常低, 需要线程安全的集合类型时请考虑使用 JUC 包下的并发集合</strong></p> <p>方法如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 返回指定 collection 支持的同步（线程安全的）collection</span>
<span class="token function">synchronizedCollection</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span>  c<span class="token punctuation">)</span> 
<span class="token comment">// 返回指定列表支持的同步（线程安全的）List</span>
<span class="token function">synchronizedList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span>
<span class="token comment">// 返回由指定映射支持的同步（线程安全的）Map</span>
<span class="token function">synchronizedMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">)</span> 
<span class="token comment">// 返回指定 set 支持的同步（线程安全的）set</span>
<span class="token function">synchronizedSet</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> s<span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">2022/12/31 下午3:20:26</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blogs/面经/Java/集合使用注意事项.html" class="prev">
          Java - 集合使用注意事项
        </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#集合概述" class="sidebar-link reco-side-集合概述" data-v-b57cc07c>集合概述</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#java-集合概览" class="sidebar-link reco-side-java-集合概览" data-v-b57cc07c>Java 集合概览</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#list-set-queue-map-四者的区别" class="sidebar-link reco-side-list-set-queue-map-四者的区别" data-v-b57cc07c>List, Set, Queue, Map 四者的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#集合框架底层数据结构总结" class="sidebar-link reco-side-集合框架底层数据结构总结" data-v-b57cc07c>集合框架底层数据结构总结</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#collection-list" class="sidebar-link reco-side-collection-list" data-v-b57cc07c>Collection - List</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#arraylist-和-vector-的区别" class="sidebar-link reco-side-arraylist-和-vector-的区别" data-v-b57cc07c>ArrayList 和 Vector 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#arraylist-和-linkedlist-的区别" class="sidebar-link reco-side-arraylist-和-linkedlist-的区别" data-v-b57cc07c>ArrayList 和 LinkedList 的区别</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#collection-set" class="sidebar-link reco-side-collection-set" data-v-b57cc07c>Collection - Set</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#comparable-和-comparator-的区别" class="sidebar-link reco-side-comparable-和-comparator-的区别" data-v-b57cc07c>Comparable 和 Comparator 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#无序性和不可重复性的含义是什么" class="sidebar-link reco-side-无序性和不可重复性的含义是什么" data-v-b57cc07c>无序性和不可重复性的含义是什么</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#比较-hashset-linkedhashset-treeset-三者的异同" class="sidebar-link reco-side-比较-hashset-linkedhashset-treeset-三者的异同" data-v-b57cc07c>比较 HashSet, LinkedHashSet, TreeSet 三者的异同</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#collection-queue" class="sidebar-link reco-side-collection-queue" data-v-b57cc07c>Collection - Queue</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#queue-和-deque-的区别" class="sidebar-link reco-side-queue-和-deque-的区别" data-v-b57cc07c>Queue 和 Deque 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#arraydeque-和-linkedlist-的区别" class="sidebar-link reco-side-arraydeque-和-linkedlist-的区别" data-v-b57cc07c>ArrayDeque 和 LinkedList 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#priorityqueue" class="sidebar-link reco-side-priorityqueue" data-v-b57cc07c>PriorityQueue</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#map-接口" class="sidebar-link reco-side-map-接口" data-v-b57cc07c>Map 接口</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-和-hashtable-的区别" class="sidebar-link reco-side-hashmap-和-hashtable-的区别" data-v-b57cc07c>HashMap 和 Hashtable 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-和-hashset-的区别" class="sidebar-link reco-side-hashmap-和-hashset-的区别" data-v-b57cc07c>HashMap 和 HashSet 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-和-treemap-的区别" class="sidebar-link reco-side-hashmap-和-treemap-的区别" data-v-b57cc07c>HashMap 和 TreeMap 的区别</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashset-如何查重" class="sidebar-link reco-side-hashset-如何查重" data-v-b57cc07c>HashSet 如何查重</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-的底层实现" class="sidebar-link reco-side-hashmap-的底层实现" data-v-b57cc07c>HashMap 的底层实现</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-的长度为什么是-2-的幂次方" class="sidebar-link reco-side-hashmap-的长度为什么是-2-的幂次方" data-v-b57cc07c>HashMap 的长度为什么是 2 的幂次方</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-多线程操作导致死循环问题" class="sidebar-link reco-side-hashmap-多线程操作导致死循环问题" data-v-b57cc07c>HashMap 多线程操作导致死循环问题</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#hashmap-常见的几种遍历方式" class="sidebar-link reco-side-hashmap-常见的几种遍历方式" data-v-b57cc07c>HashMap 常见的几种遍历方式</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#concurrenthashmap-和-hashtable-的区别" class="sidebar-link reco-side-concurrenthashmap-和-hashtable-的区别" data-v-b57cc07c>ConcurrentHashMap 和 Hashtable 的区别</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#collections-工具类" class="sidebar-link reco-side-collections-工具类" data-v-b57cc07c>Collections 工具类</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#排序操作" class="sidebar-link reco-side-排序操作" data-v-b57cc07c>排序操作</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#查找-替换操作" class="sidebar-link reco-side-查找-替换操作" data-v-b57cc07c>查找, 替换操作</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/%E9%9D%A2%E7%BB%8F/Java/%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0.html#同步控制" class="sidebar-link reco-side-同步控制" data-v-b57cc07c>同步控制</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.826229b0.js" defer></script><script src="/assets/js/3.45d84e5d.js" defer></script><script src="/assets/js/1.9cec7de7.js" defer></script><script src="/assets/js/35.85232f7c.js" defer></script>
  </body>
</html>
